import{r as N,a as J,j as e,H as f}from"./app-DMb7LtCN.js";import{A as _}from"./AuthenticatedLayout-BpR-O0bi.js";import{C as y,b as C,c as w,d as S,a as P}from"./card-CiCOSHkd.js";import{I as m}from"./input-DWiWIN5V.js";import{T as V}from"./textarea-n-y0bKye.js";import{L as r}from"./label-BZ-wwOrJ.js";import{B as n}from"./button-CyYx68q9.js";import{S as x,a as h,b as p,c as u,d as t}from"./select-DcW7h3Ua.js";import"./checkbox-DZPUlPNk.js";import{B as q}from"./badge-CvbwvDtg.js";import{A as k,a as T}from"./alert-D7o7FP_e.js";import{S as H,L as R}from"./SubjectSelector-BGg2c68i.js";import{A as G}from"./arrow-left-Dq_C6yjE.js";import{M as z}from"./map-pin-CJqOoX6D.js";import{C as I}from"./circle-alert-A_KU2ECP.js";import{C as O}from"./circle-check-CE-XGutI.js";import{B as W}from"./file-text-BgSZTrwQ.js";import{E as $}from"./eye-BC8V323K.js";import"./sheet-YKnNUuIm.js";import"./index-DfnyotgD.js";import"./index-DyB_FsxT.js";import"./check-DLydRBiz.js";import"./circle-GvRAjOt2.js";import"./index-sWPyaVSD.js";import"./house-DzFDNX5R.js";import"./user-zfkujLDV.js";import"./search-C3aeqjEW.js";import"./users-a5XCNlQQ.js";import"./book-open-C0o3UvSC.js";import"./mail-mQngeILv.js";import"./index-CD-fWbnq.js";import"./chevron-down-CWMMkX7-.js";function De({auth:c,locations:U=[],subjects:v=[],students:Y=[]}){const[K,Q]=N.useState(1),[D,j]=N.useState(!1),{data:i,setData:l,post:F,processing:d,errors:a,reset:L}=J({title:"",description:"",division:"",district:"",subjects:[],class_level:"",education_medium:"",tutor_gender_preference:"any",tuition_type:"home",sessions_per_week:"",session_duration:"",salary:""}),A=["Class 1","Class 2","Class 3","Class 4","Class 5","Class 6","Class 7","Class 8","Class 9","Class 10","O-Level","A-Level","HSC","Undergraduate","Graduate"],E=[{value:"home",label:"Home Tuition"},{value:"online",label:"Online Tuition"},{value:"group",label:"Group Tuition"}],M=[{value:"any",label:"Any"},{value:"male",label:"Male"},{value:"female",label:"Female"}],o=()=>i.title&&i.description&&i.division&&i.district&&i.subjects.length>0&&i.class_level&&i.education_medium&&i.tuition_type&&i.sessions_per_week&&i.session_duration&&i.salary,g=s=>{s.preventDefault(),F(route("guardian.jobs.store"),{preserveScroll:!0,onSuccess:()=>{L()}})};return D?e.jsxs(_,{children:[e.jsx(f,{title:"Preview Job Post"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(y,{children:[e.jsx(C,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(w,{className:"text-2xl",children:"Preview Your Job Post"}),e.jsx(S,{children:"Review before publishing"})]}),e.jsxs(n,{variant:"outline",onClick:()=>j(!1),children:[e.jsx(G,{className:"mr-2 h-4 w-4"}),"Back to Edit"]})]})}),e.jsxs(P,{className:"space-y-6",children:[e.jsx("div",{children:e.jsx("h3",{className:"text-xl font-bold mb-4",children:i.title})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Class Level"}),e.jsx("p",{className:"font-semibold",children:i.class_level})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Education Medium"}),e.jsx("p",{className:"font-semibold capitalize",children:i.education_medium.replace("_"," ")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Tuition Type"}),e.jsx("p",{className:"font-semibold capitalize",children:i.tuition_type})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Preferred Tutor Gender"}),e.jsx("p",{className:"font-semibold capitalize",children:i.tutor_gender_preference})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Sessions per Week"}),e.jsxs("p",{className:"font-semibold",children:[i.sessions_per_week," days"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Session Duration"}),e.jsxs("p",{className:"font-semibold",children:[i.session_duration," minutes"]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Monthly Salary"}),e.jsx("p",{className:"font-semibold text-green-600 text-lg",children:i.salary})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Subjects Required"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:i.subjects.map(s=>{const b=v.find(B=>B.id===parseInt(s));return b?e.jsx(q,{children:b.name},s):null})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:i.description})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[e.jsx(z,{className:"h-4 w-4"}),"Location"]}),e.jsx("p",{className:"text-gray-600",children:i.district&&i.division?`${i.district}, ${i.division}`:"Not specified"})]}),i.special_requirements&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Special Requirements"}),e.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:i.special_requirements})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(n,{onClick:g,disabled:d||!o(),className:"flex-1",children:d?"Publishing...":"Publish Job"}),e.jsx(n,{variant:"outline",onClick:()=>j(!1),children:"Edit"})]})]})]})})})]}):e.jsxs(_,{children:[e.jsx(f,{title:"Post a Job"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:[c.flash?.error&&e.jsxs(k,{variant:"destructive",className:"mb-6",children:[e.jsx(I,{className:"h-4 w-4"}),e.jsx(T,{children:c.flash.error})]}),c.flash?.success&&e.jsxs(k,{className:"mb-6 bg-green-50 text-green-800 border-green-200",children:[e.jsx(O,{className:"h-4 w-4"}),e.jsx(T,{children:c.flash.success})]}),e.jsxs(y,{children:[e.jsxs(C,{children:[e.jsxs(w,{className:"text-2xl flex items-center gap-2",children:[e.jsx(W,{className:"h-6 w-6"}),"Post a New Tuition Job"]}),e.jsx(S,{children:"Fill in the details to find the perfect tutor for your student"})]}),e.jsx(P,{children:e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"title",children:"Job Title *"}),e.jsx(m,{id:"title",placeholder:"e.g., Math and Science Tutor for Class 8",value:i.title,onChange:s=>l("title",s.target.value)}),a.title&&e.jsx("p",{className:"text-sm text-red-500",children:a.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"description",children:"Job Description *"}),e.jsx(V,{id:"description",placeholder:"Describe what you're looking for in a tutor...",rows:5,value:i.description,onChange:s=>l("description",s.target.value)}),a.description&&e.jsx("p",{className:"text-sm text-red-500",children:a.description})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{subjects:v,selectedSubjects:i.subjects,onSubjectsChange:s=>l("subjects",s),label:"Subjects Required *",placeholder:"Search subjects..."}),a.subjects&&e.jsx("p",{className:"text-sm text-red-500",children:a.subjects})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"class_level",children:"Class Level *"}),e.jsxs(x,{value:i.class_level,onValueChange:s=>l("class_level",s),children:[e.jsx(h,{children:e.jsx(p,{placeholder:"Select class"})}),e.jsx(u,{children:A.map(s=>e.jsx(t,{value:s,children:s},s))})]}),a.class_level&&e.jsx("p",{className:"text-sm text-red-500",children:a.class_level})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"education_medium",children:"Education Medium *"}),e.jsxs(x,{value:i.education_medium,onValueChange:s=>l("education_medium",s),children:[e.jsx(h,{children:e.jsx(p,{})}),e.jsxs(u,{children:[e.jsx(t,{value:"bangla",children:"Bangla Medium"}),e.jsx(t,{value:"english",children:"English Medium"}),e.jsx(t,{value:"english_version",children:"English Version"})]})]}),a.education_medium&&e.jsx("p",{className:"text-sm text-red-500",children:a.education_medium})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"tuition_type",children:"Tuition Type *"}),e.jsxs(x,{value:i.tuition_type,onValueChange:s=>l("tuition_type",s),children:[e.jsx(h,{children:e.jsx(p,{})}),e.jsx(u,{children:E.map(s=>e.jsx(t,{value:s.value,children:s.label},s.value))})]}),a.tuition_type&&e.jsx("p",{className:"text-sm text-red-500",children:a.tuition_type})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"tutor_gender_preference",children:"Preferred Tutor Gender"}),e.jsxs(x,{value:i.tutor_gender_preference,onValueChange:s=>l("tutor_gender_preference",s),children:[e.jsx(h,{children:e.jsx(p,{})}),e.jsx(u,{children:M.map(s=>e.jsx(t,{value:s.value,children:s.label},s.value))})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"sessions_per_week",children:"Days per Week *"}),e.jsx(m,{id:"sessions_per_week",type:"number",min:"1",max:"7",placeholder:"e.g., 3",value:i.sessions_per_week,onChange:s=>l("sessions_per_week",s.target.value)}),a.sessions_per_week&&e.jsx("p",{className:"text-sm text-red-500",children:a.sessions_per_week})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"session_duration",children:"Duration per Session (minutes) *"}),e.jsx(m,{id:"session_duration",type:"number",min:"30",max:"180",placeholder:"e.g., 60",value:i.session_duration,onChange:s=>l("session_duration",s.target.value)}),a.session_duration&&e.jsx("p",{className:"text-sm text-red-500",children:a.session_duration})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"salary",children:"Monthly Salary (BDT) *"}),e.jsx(m,{id:"salary",type:"number",min:"0",step:"100",placeholder:"e.g., 5000",value:i.salary,onChange:s=>l("salary",s.target.value)}),a.salary&&e.jsx("p",{className:"text-sm text-red-500",children:a.salary})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Area *"}),e.jsx(R,{divisionValue:i.division,districtValue:i.district,onDivisionChange:s=>l("division",s),onDistrictChange:s=>l("district",s)}),(a.division||a.district)&&e.jsx("p",{className:"text-sm text-red-500",children:a.division||a.district})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(n,{type:"button",variant:"outline",onClick:()=>j(!0),disabled:!o(),className:"flex-1",children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"Preview"]}),e.jsx(n,{type:"submit",disabled:d||!o(),className:"flex-1",children:d?"Publishing...":"Publish Job"})]}),!o()&&e.jsx("p",{className:"text-sm text-red-500 text-center mt-2",children:"Please fill in all required fields before submitting or previewing"})]})})]})]})})]})}export{De as default};
