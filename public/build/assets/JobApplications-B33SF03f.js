import{r as C,j as e,H as w,b as _}from"./app-DsllCRkg.js";import{A}from"./AuthenticatedLayout-C7FLhRCs.js";import{C as r,b as i,c,a as t}from"./card-5u8WTilj.js";import{c as T,B as n}from"./button-CoTJxXaf.js";import{B as p}from"./badge-B200-mJa.js";import{T as k,a as S,b as u,c as N}from"./tabs-7akIjqNY.js";import{U as B}from"./user-0eZu2NEE.js";import{B as L,F as z}from"./file-text-CnOATaiY.js";import{C as v}from"./circle-check-big-DMtVIVnt.js";import{C as y}from"./circle-x-DrYTQECN.js";import"./sheet-3K8_wCSN.js";import"./index-audHxnvk.js";import"./index-Cd5ZZqyH.js";import"./check-DGBoWBRM.js";import"./circle-OtpwoAGW.js";import"./input-D-PX5_cd.js";import"./index-CCrlpGWa.js";import"./house-vDFQtZPY.js";import"./search-AC4RCcwv.js";import"./users-CCfAm_xt.js";import"./book-open-C4UPpF1Q.js";import"./mail-BNel7RtU.js";const R=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],E=T("thumbs-up",R);function te({auth:H,applications:j,stats:d}){const[m,b]=C.useState(null),x=(s,a)=>{confirm(`Are you sure you want to ${a} this application?`)&&(b(s),_.post(route("admin.applications.update-status",s),{status:a},{preserveScroll:!0,onFinish:()=>b(null)}))},f=s=>({pending:"bg-yellow-100 text-yellow-800 border-yellow-200",shortlisted:"bg-blue-100 text-blue-800 border-blue-200",accepted:"bg-green-100 text-green-800 border-green-200",rejected:"bg-red-100 text-red-800 border-red-200"})[s]||"bg-gray-100 text-gray-800 border-gray-200",l={pending:j.filter(s=>s.status==="pending"),shortlisted:j.filter(s=>s.status==="shortlisted"),accepted:j.filter(s=>s.status==="accepted"),rejected:j.filter(s=>s.status==="rejected")},g=({application:s})=>{const a=s.tutor,o=s.job,h=o?.guardian;return e.jsxs(r,{className:"hover:shadow-lg transition-shadow",children:[e.jsxs(i,{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(p,{variant:"outline",className:f(s.status),children:s.status}),e.jsx(p,{variant:"secondary",children:new Date(s.applied_at).toLocaleDateString()})]}),e.jsxs(c,{className:"text-lg",children:["Application #",s.id]})]}),e.jsxs(t,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"font-semibold text-sm text-blue-600 border-b pb-2",children:[e.jsx(B,{className:"inline h-4 w-4 mr-1"}),"Tutor Details"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Name:"})," ",e.jsxs("span",{className:"font-medium",children:[a?.user?.first_name," ",a?.user?.last_name]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Email:"})," ",e.jsx("span",{className:"font-medium",children:a?.user?.email})]}),a?.phone&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Phone:"})," ",e.jsx("span",{className:"font-medium",children:a.phone})]}),a?.hourly_rate&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Hourly Rate:"})," ",e.jsxs("span",{className:"font-medium text-green-600",children:["৳",a.hourly_rate,"/hr"]})]}),a?.education&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Education:"})," ",e.jsx("span",{className:"font-medium",children:a.education})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Verification:"})," ",e.jsx(p,{variant:"outline",className:"ml-1 text-xs",children:a?.verification_status})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"font-semibold text-sm text-green-600 border-b pb-2",children:[e.jsx(L,{className:"inline h-4 w-4 mr-1"}),"Job Details"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Title:"})," ",e.jsx("span",{className:"font-medium",children:o?.title})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Code:"})," ",e.jsx("span",{className:"font-medium",children:o?.job_code})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Salary:"})," ",e.jsxs("span",{className:"font-medium text-green-600",children:["৳",o?.salary,"/month"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Location:"})," ",e.jsx("span",{className:"font-medium",children:o?.location?.name})]}),h&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Guardian:"})," ",e.jsxs("span",{className:"font-medium",children:[h.user?.first_name," ",h.user?.last_name]})]}),h?.user?.email&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Guardian Email:"})," ",e.jsx("span",{className:"font-medium",children:h.user.email})]})]})]})]}),s.cover_letter&&e.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Cover Letter"}),e.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded",children:s.cover_letter})]}),s.status==="pending"&&e.jsxs("div",{className:"mt-4 pt-4 border-t flex gap-2",children:[e.jsxs(n,{size:"sm",variant:"outline",className:"text-blue-600 border-blue-600 hover:bg-blue-50",onClick:()=>x(s.id,"shortlisted"),disabled:m===s.id,children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Shortlist"]}),e.jsxs(n,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>x(s.id,"accepted"),disabled:m===s.id,children:[e.jsx(v,{className:"h-4 w-4 mr-2"}),"Accept"]}),e.jsxs(n,{size:"sm",variant:"destructive",onClick:()=>x(s.id,"rejected"),disabled:m===s.id,children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Reject"]})]}),s.status==="shortlisted"&&e.jsxs("div",{className:"mt-4 pt-4 border-t flex gap-2",children:[e.jsxs(n,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>x(s.id,"accepted"),disabled:m===s.id,children:[e.jsx(v,{className:"h-4 w-4 mr-2"}),"Accept"]}),e.jsxs(n,{size:"sm",variant:"destructive",onClick:()=>x(s.id,"rejected"),disabled:m===s.id,children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Reject"]})]}),s.cv_path&&e.jsx("div",{className:"mt-3",children:e.jsxs(n,{size:"sm",variant:"outline",onClick:()=>window.open(`/storage/${s.cv_path}`,"_blank"),children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"View CV"]})})]})]})};return e.jsxs(A,{children:[e.jsx(w,{title:"Job Applications"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Job Applications"}),e.jsx("p",{className:"text-gray-600",children:"View all tutor applications to guardian jobs"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[e.jsxs(r,{children:[e.jsx(i,{className:"pb-3",children:e.jsx(c,{className:"text-sm font-medium text-gray-600",children:"Total"})}),e.jsx(t,{children:e.jsx("div",{className:"text-2xl font-bold",children:d.total})})]}),e.jsxs(r,{children:[e.jsx(i,{className:"pb-3",children:e.jsx(c,{className:"text-sm font-medium text-gray-600",children:"Pending"})}),e.jsx(t,{children:e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:d.pending})})]}),e.jsxs(r,{children:[e.jsx(i,{className:"pb-3",children:e.jsx(c,{className:"text-sm font-medium text-gray-600",children:"Shortlisted"})}),e.jsx(t,{children:e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:d.shortlisted})})]}),e.jsxs(r,{children:[e.jsx(i,{className:"pb-3",children:e.jsx(c,{className:"text-sm font-medium text-gray-600",children:"Accepted"})}),e.jsx(t,{children:e.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.accepted})})]}),e.jsxs(r,{children:[e.jsx(i,{className:"pb-3",children:e.jsx(c,{className:"text-sm font-medium text-gray-600",children:"Rejected"})}),e.jsx(t,{children:e.jsx("div",{className:"text-2xl font-bold text-red-600",children:d.rejected})})]})]}),e.jsxs(k,{defaultValue:"pending",className:"space-y-4",children:[e.jsxs(S,{children:[e.jsxs(u,{value:"pending",className:"relative",children:["Pending",d.pending>0&&e.jsx(p,{className:"ml-2 bg-yellow-500",children:d.pending})]}),e.jsx(u,{value:"shortlisted",children:"Shortlisted"}),e.jsx(u,{value:"accepted",children:"Accepted"}),e.jsx(u,{value:"rejected",children:"Rejected"})]}),e.jsx(N,{value:"pending",className:"space-y-4",children:l.pending.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4",children:l.pending.map(s=>e.jsx(g,{application:s},s.id))}):e.jsx(r,{children:e.jsx(t,{className:"text-center py-12 text-gray-500",children:"No pending applications"})})}),e.jsx(N,{value:"shortlisted",className:"space-y-4",children:l.shortlisted.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4",children:l.shortlisted.map(s=>e.jsx(g,{application:s},s.id))}):e.jsx(r,{children:e.jsx(t,{className:"text-center py-12 text-gray-500",children:"No shortlisted applications"})})}),e.jsx(N,{value:"accepted",className:"space-y-4",children:l.accepted.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4",children:l.accepted.map(s=>e.jsx(g,{application:s},s.id))}):e.jsx(r,{children:e.jsx(t,{className:"text-center py-12 text-gray-500",children:"No accepted applications"})})}),e.jsx(N,{value:"rejected",className:"space-y-4",children:l.rejected.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4",children:l.rejected.map(s=>e.jsx(g,{application:s},s.id))}):e.jsx(r,{children:e.jsx(t,{className:"text-center py-12 text-gray-500",children:"No rejected applications"})})})]})]})})]})}export{te as default};
