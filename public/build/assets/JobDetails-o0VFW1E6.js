import{j as e,H as g,L as i}from"./app-DsllCRkg.js";import{G as j}from"./GuestLayout-DvfGIvE9.js";import{C as n,b as c,c as x,d as N,a as m}from"./card-5u8WTilj.js";import{B as t}from"./button-CoTJxXaf.js";import{B as r}from"./badge-B200-mJa.js";import{A as f}from"./arrow-left-Douxx5Ot.js";import{D as v}from"./dollar-sign-Dnuw22R_.js";import{C as y}from"./calendar-BxaILTC_.js";import{C as b}from"./clock-WiQn5WRQ.js";import{M as w}from"./map-pin-BdKcBnaD.js";function F({job:s,auth:d}){const o=d?.user!==null,h=d?.user?.role==="tutor",p=a=>({pending:"bg-yellow-100 text-yellow-800 border-yellow-200",approved:"bg-green-100 text-green-800 border-green-200",rejected:"bg-red-100 text-red-800 border-red-200"})[a]||"bg-gray-100 text-gray-800 border-gray-200",u=a=>({open:"bg-blue-100 text-blue-800 border-blue-200",filled:"bg-green-100 text-green-800 border-green-200",closed:"bg-gray-100 text-gray-800 border-gray-200"})[a]||"bg-gray-100 text-gray-800 border-gray-200";return e.jsxs(j,{children:[e.jsx(g,{title:s.title}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-5xl mx-auto sm:px-6 lg:px-8",children:[e.jsx(t,{variant:"ghost",className:"mb-4",asChild:!0,children:e.jsxs(i,{href:route("jobs.index"),children:[e.jsx(f,{className:"mr-2 h-4 w-4"}),"Back to Jobs"]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs(n,{children:[e.jsx(c,{children:e.jsx("div",{className:"flex justify-between items-start",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(r,{variant:"outline",className:p(s.approval_status),children:s.approval_status}),e.jsx(r,{variant:"outline",className:u(s.status),children:s.status})]}),e.jsx(x,{className:"text-2xl mb-2",children:s.title}),e.jsxs(N,{children:["Job Code: ",s.job_code," • Posted on ",new Date(s.created_at).toLocaleDateString()]})]})})}),e.jsxs(m,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"h-5 w-5 text-slate-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Salary"}),e.jsxs("p",{className:"font-semibold text-green-600",children:["৳",parseFloat(s.salary).toLocaleString(),"/month"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-5 w-5 text-slate-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Days per Week"}),e.jsxs("p",{className:"font-semibold",children:[s.days_per_week," days"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5 text-slate-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Session Duration"}),e.jsxs("p",{className:"font-semibold",children:[s.duration_per_session," mins"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-5 w-5 text-slate-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Location"}),e.jsx("p",{className:"font-semibold",children:s.district&&s.division?`${s.district}, ${s.division}`:s.location?.city||"Not specified"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Description"}),e.jsx("p",{className:"text-slate-700 leading-relaxed whitespace-pre-wrap break-words",children:s.description})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Required Subjects"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Array.isArray(s.subject_names)&&s.subject_names.map((a,l)=>e.jsx(r,{variant:"secondary",children:a},l))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Job Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-500",children:"Class Level"}),e.jsx("p",{className:"font-medium",children:s.class_level})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-500",children:"Education Medium"}),e.jsx("p",{className:"font-medium capitalize",children:s.education_medium})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-500",children:"Tuition Type"}),e.jsx("p",{className:"font-medium capitalize",children:s.tuition_type})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-500",children:"Gender Preference"}),e.jsx("p",{className:"font-medium capitalize",children:s.preferred_tutor_gender||"Any"})]})]})]}),s.special_requirements&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Special Requirements"}),e.jsx("p",{className:"text-slate-700",children:s.special_requirements})]})]})]})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(n,{className:"sticky top-6",children:[e.jsx(c,{children:e.jsx(x,{children:"Posted By"})}),e.jsxs(m,{className:"space-y-4",children:[s.guardian_id?s.guardian&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Guardian Name"}),e.jsx("p",{className:"font-medium",children:s.guardian.user?.name||`${s.guardian.first_name||""} ${s.guardian.last_name||""}`.trim()||"Not specified"})]}),s.guardian.phone&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Contact"}),e.jsx("p",{className:"font-medium",children:s.guardian.phone})]}),s.guardian.location&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Location"}),e.jsx("p",{className:"font-medium",children:s.guardian.location.city})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Posted By"}),e.jsx("p",{className:"font-medium",children:"Platform Administrator"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-blue-800",children:e.jsx("p",{children:"This is an official job posted by the platform admin team."})})]}),s.student&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Student Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Name"}),e.jsx("p",{className:"font-medium",children:s.student.name})]}),s.student.age&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Age"}),e.jsxs("p",{className:"font-medium",children:[s.student.age," years"]})]}),s.student.gender&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Gender"}),e.jsx("p",{className:"font-medium capitalize",children:s.student.gender})]})]})]})}),e.jsx("div",{className:"pt-4",children:o?h?e.jsxs(e.Fragment,{children:[e.jsx(t,{className:"w-full bg-[#0675C1] hover:bg-blue-700",size:"lg",asChild:!0,children:e.jsx(i,{href:route("tutor.jobs.show",s.id),children:"Apply for This Job"})}),e.jsx("p",{className:"text-xs text-center text-green-600 mt-2",children:"Click to view details and apply"})]}):e.jsxs(e.Fragment,{children:[e.jsx(t,{className:"w-full",size:"lg",disabled:!0,children:"Only Tutors Can Apply"}),e.jsx("p",{className:"text-xs text-center text-slate-500 mt-2",children:"You need a tutor account to apply"})]}):e.jsxs(e.Fragment,{children:[e.jsx(t,{className:"w-full",size:"lg",asChild:!0,children:e.jsx(i,{href:route("login"),children:"Apply for This Job"})}),e.jsx("p",{className:"text-xs text-center text-slate-500 mt-2",children:"Login as a tutor to apply"})]})})]})]})})]})]})})]})}export{F as default};
