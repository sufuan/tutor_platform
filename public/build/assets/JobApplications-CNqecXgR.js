import{j as e,H as C,L as u,a as h}from"./app-DvBjVBiq.js";import{u as _,A}from"./AuthenticatedLayout-BpLTeax-.js";import{C as l,a as k,b as S,d as T,c as i}from"./card-Cv20zNkG.js";import{c as R,B as a}from"./button-D78GArki.js";import{B as o}from"./badge-t35BXhJV.js";import{A as H,h as z,i as L}from"./sheet-DChk3iRr.js";import{T as B,a as I,b as m,c as x}from"./tabs-BGTJol1Q.js";import"./dialog-c1ZmVWLo.js";import"./textarea-CN0bUZRN.js";import{C as M}from"./heroicons-currency-bangladeshi-CdmD_eGH.js";import{A as F}from"./arrow-left-BqTgURqG.js";import{G as P}from"./graduation-cap-yWKcfpCj.js";import{M as E}from"./map-pin-DjOdnYZV.js";import{C as J}from"./calendar-V8CujHCb.js";import{E as V}from"./eye-BkkZSTSJ.js";import{S as D}from"./star-Bfi8DqgU.js";import{T as N}from"./thumbs-up-BzuKpPsl.js";import"./input-owfrPoiq.js";import"./index-Dprr2haP.js";import"./index-q50AiS3X.js";import"./index-B2P68d7Q.js";import"./house-CbNyQ-r7.js";import"./user-twfyhSbf.js";import"./file-text-7h3AE9q6.js";import"./search-B8nUHUAo.js";import"./users-AJ8Cg7pc.js";import"./book-open-CISuMiZF.js";import"./mail-DnWs02vJ.js";import"./check-Dnjo-tIP.js";import"./circle--NTZZ6CK.js";const G=[["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}],["path",{d:"M17 14V2",key:"8ymqnk"}]],v=R("thumbs-down",G);function fe({auth:Y,job:d,applications:n}){const{toast:j}=_(),r={pending:n.filter(s=>s.status==="pending"),shortlisted:n.filter(s=>s.status==="shortlisted"),accepted:n.filter(s=>s.status==="accepted"),rejected:n.filter(s=>s.status==="rejected")},b=s=>{h.post(route("guardian.applications.shortlist",s))},g=s=>{h.post(route("guardian.applications.recommend-hire",s),{},{onSuccess:()=>{j({title:"Recommendation Sent",description:"Your recommendation has been sent to the admin for review."})}})},p=s=>{h.post(route("guardian.applications.recommend-reject",s),{},{onSuccess:()=>{j({title:"Feedback Sent",description:"Your feedback has been sent to the admin."})}})},f=s=>({pending:"bg-yellow-100 text-yellow-800 border-yellow-200",shortlisted:"bg-blue-100 text-blue-800 border-blue-200",accepted:"bg-green-100 text-green-800 border-green-200",rejected:"bg-red-100 text-red-800 border-red-200"})[s]||"bg-gray-100 text-gray-800 border-gray-200",c=({application:s})=>{const t=s.tutor;return e.jsx(l,{className:"hover:shadow-lg transition-shadow",children:e.jsx(i,{className:"pt-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(H,{className:"h-16 w-16",children:[e.jsx(z,{src:t.photo}),e.jsxs(L,{children:[t.first_name?.[0],t.last_name?.[0]]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg",children:[t.first_name," ",t.last_name]}),e.jsx("p",{className:"text-sm text-gray-600",children:t.tutor_code})]}),e.jsx(o,{variant:"outline",className:f(s.status),children:s.status})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(P,{className:"h-4 w-4"}),e.jsxs("span",{children:[t.institution," - ",t.education_level]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(E,{className:"h-4 w-4"}),e.jsx("span",{children:t.location?.name})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(M,{size:16,className:""}),e.jsxs("span",{children:[t.hourly_rate,"/hour"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(J,{className:"h-4 w-4"}),e.jsxs("span",{children:[t.experience_years," years experience"]})]})]}),t.subject_names&&t.subject_names.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[t.subject_names.slice(0,4).map((y,w)=>e.jsx(o,{variant:"secondary",className:"text-xs",children:y},w)),t.subject_names.length>4&&e.jsxs(o,{variant:"secondary",className:"text-xs",children:["+",t.subject_names.length-4]})]}),s.cover_letter&&e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg mb-4",children:e.jsx("p",{className:"text-sm text-gray-700 line-clamp-3",children:s.cover_letter})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(a,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(u,{href:route("tutors.show",t.id),children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),"View Profile"]})}),s.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs(a,{size:"sm",onClick:()=>b(s.id),children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Shortlist"]}),e.jsxs(a,{variant:"outline",size:"sm",onClick:()=>g(s.id),children:[e.jsx(N,{className:"mr-2 h-4 w-4"}),"Recommend"]}),e.jsxs(a,{variant:"outline",size:"sm",onClick:()=>p(s.id),children:[e.jsx(v,{className:"mr-2 h-4 w-4"}),"Not Interested"]})]}),s.status==="shortlisted"&&e.jsxs(e.Fragment,{children:[e.jsxs(a,{variant:"outline",size:"sm",onClick:()=>g(s.id),children:[e.jsx(N,{className:"mr-2 h-4 w-4"}),"Recommend"]}),e.jsxs(a,{variant:"outline",size:"sm",onClick:()=>p(s.id),children:[e.jsx(v,{className:"mr-2 h-4 w-4"}),"Not Interested"]})]})]})]})]})})})};return e.jsxs(A,{children:[e.jsx(C,{title:`Applications for ${d.title}`}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsx(a,{variant:"ghost",asChild:!0,className:"mb-6",children:e.jsxs(u,{href:route("guardian.jobs.index"),children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),"Back to My Jobs"]})}),e.jsxs(l,{className:"mb-6",children:[e.jsx(k,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(S,{className:"text-2xl",children:d.title}),e.jsxs(T,{children:["Job Code: ",d.job_code," â€¢ ",n.length," Applications"]})]}),e.jsxs(o,{variant:"outline",className:"text-lg",children:[d.salary,"/month"]})]})}),e.jsx(i,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.pending.length}),e.jsx("div",{className:"text-xs text-gray-600",children:"Pending"})]}),e.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:r.shortlisted.length}),e.jsx("div",{className:"text-xs text-gray-600",children:"Shortlisted"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.accepted.length}),e.jsx("div",{className:"text-xs text-gray-600",children:"Hired"})]}),e.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:r.rejected.length}),e.jsx("div",{className:"text-xs text-gray-600",children:"Rejected"})]})]})})]}),e.jsxs(B,{defaultValue:"pending",className:"space-y-4",children:[e.jsxs(I,{className:"grid w-full grid-cols-4",children:[e.jsxs(m,{value:"pending",children:["Pending (",r.pending.length,")"]}),e.jsxs(m,{value:"shortlisted",children:["Shortlisted (",r.shortlisted.length,")"]}),e.jsxs(m,{value:"accepted",children:["Hired (",r.accepted.length,")"]}),e.jsxs(m,{value:"rejected",children:["Rejected (",r.rejected.length,")"]})]}),e.jsx(x,{value:"pending",className:"space-y-4",children:r.pending.length===0?e.jsx(l,{children:e.jsx(i,{className:"pt-6 text-center text-gray-500",children:"No pending applications"})}):r.pending.map(s=>e.jsx(c,{application:s},s.id))}),e.jsx(x,{value:"shortlisted",className:"space-y-4",children:r.shortlisted.length===0?e.jsx(l,{children:e.jsx(i,{className:"pt-6 text-center text-gray-500",children:"No shortlisted applications"})}):r.shortlisted.map(s=>e.jsx(c,{application:s},s.id))}),e.jsx(x,{value:"accepted",className:"space-y-4",children:r.accepted.length===0?e.jsx(l,{children:e.jsx(i,{className:"pt-6 text-center text-gray-500",children:"No hired tutors yet"})}):r.accepted.map(s=>e.jsx(c,{application:s},s.id))}),e.jsx(x,{value:"rejected",className:"space-y-4",children:r.rejected.length===0?e.jsx(l,{children:e.jsx(i,{className:"pt-6 text-center text-gray-500",children:"No rejected applications"})}):r.rejected.map(s=>e.jsx(c,{application:s},s.id))})]})]})})]})}export{fe as default};
