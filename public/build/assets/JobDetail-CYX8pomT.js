import{j as e,H as j,L as N,b as x}from"./app-D56fJV5T.js";import{A as g}from"./AuthenticatedLayout-CrVtqVnZ.js";import{C as l,b as c,c as n,a as d}from"./card-CaHjWWI2.js";import{B as m}from"./button-Anm0rw7C.js";import{B as t}from"./badge-D8nhticf.js";import{C as v}from"./heroicons-currency-bangladeshi-BR9-tC9n.js";import{A as f}from"./arrow-left-CfXDIka4.js";import{B as y}from"./book-open-DYVn_e5B.js";import{M as _}from"./map-pin-Bu3hg6DV.js";import{C as h}from"./calendar-B2p6h1D9.js";import{C as w}from"./clock-B3VIoLWd.js";import{U as C}from"./user-DX-xlDTS.js";import{B as A}from"./file-text-JxuxQrBK.js";import{M as k}from"./mail-DsaBw_vr.js";import{P as B}from"./phone-Bj6R00Ts.js";import"./sheet-oq0FYnNn.js";import"./index-lrQDdO9O.js";import"./index-c4AsyinG.js";import"./check-Cx1Mx1zP.js";import"./circle-CvvHGmbE.js";import"./input-C8WkwJhz.js";import"./index-CJvPRITM.js";import"./house-BDAGjlcm.js";import"./search-BwhiQN7a.js";import"./users-DR05EF0h.js";function b({auth:o,job:s,jobType:a}){const p=r=>({pending:"bg-yellow-100 text-yellow-800 border-yellow-200",approved:"bg-green-100 text-green-800 border-green-200",rejected:"bg-red-100 text-red-800 border-red-200"})[r]||"bg-gray-100 text-gray-800 border-gray-200";return e.jsxs(g,{user:o.user,children:[e.jsx(j,{title:`${s.title} - Job Details`}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx(m,{variant:"ghost",asChild:!0,className:"mb-4",children:e.jsxs(N,{href:route("admin.jobs.approvals"),children:[e.jsx(f,{className:"mr-2 h-4 w-4"}),"Back to Job Approvals"]})}),e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:s.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(t,{variant:"outline",className:a==="tutor"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800",children:a==="tutor"?"Tutor Job Request":"Guardian Job Post"}),e.jsx(t,{variant:"outline",className:p(s.approval_status),children:s.approval_status}),e.jsxs(t,{variant:"outline",className:"capitalize",children:["Status: ",s.status==="active"?"Active":s.status]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(l,{children:[e.jsx(c,{children:e.jsx(n,{children:"Job Description"})}),e.jsx(d,{children:e.jsx("p",{className:"text-slate-700 leading-relaxed whitespace-pre-wrap",children:s.description})})]}),(a==="tutor"&&s.subject_names||a==="guardian"&&s.subjects)&&e.jsxs(l,{children:[e.jsx(c,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-5 w-5"}),"Subjects"]})}),e.jsx(d,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:a==="tutor"?s.subject_names.map((r,i)=>e.jsx(t,{variant:"secondary",children:r},i)):(typeof s.subjects=="string"?JSON.parse(s.subjects||"[]"):s.subjects||[]).map((i,u)=>e.jsx(t,{variant:"secondary",children:i},u))})})]}),a==="guardian"&&e.jsxs(l,{children:[e.jsx(c,{children:e.jsx(n,{children:"Job Requirements"})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.education_medium&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Education Medium"}),e.jsx("p",{className:"font-medium capitalize",children:s.education_medium})]}),s.tuition_type&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Tuition Type"}),e.jsx("p",{className:"font-medium capitalize",children:s.tuition_type})]}),s.class_level&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Class Level"}),e.jsx("p",{className:"font-medium",children:s.class_level})]}),s.preferred_tutor_gender&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Preferred Tutor Gender"}),e.jsx("p",{className:"font-medium capitalize",children:s.preferred_tutor_gender})]})]}),s.special_requirements&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Special Requirements"}),e.jsx("p",{className:"text-slate-700",children:s.special_requirements})]})]})]}),a==="tutor"&&e.jsxs(l,{children:[e.jsx(c,{children:e.jsx(n,{children:"Availability"})}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-3",children:[s.available_days&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Available Days"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Array.isArray(s.available_days)?s.available_days.map((r,i)=>e.jsx(t,{variant:"outline",children:r},i)):e.jsx(t,{variant:"outline",children:s.available_days})})]}),s.teaching_mode&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Teaching Mode"}),e.jsx(t,{variant:"secondary",className:"capitalize",children:s.teaching_mode})]}),s.preferred_gender&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Tutor Gender"}),e.jsxs(t,{variant:"secondary",className:"capitalize",children:[s.preferred_gender," tutor"]})]})]})})]}),s.rejection_reason&&e.jsxs(l,{className:"border-red-200 bg-red-50",children:[e.jsx(c,{children:e.jsx(n,{className:"text-red-900",children:"Rejection Reason"})}),e.jsx(d,{children:e.jsx("p",{className:"text-red-800",children:s.rejection_reason})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(l,{children:[e.jsx(c,{children:e.jsx(n,{children:"Quick Info"})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(v,{size:20,className:" text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Salary"}),e.jsx("p",{className:"font-semibold text-green-600",children:a==="tutor"?`${s.monthly_salary}/month`:`${s.salary_min} - ${s.salary_max}/${s.salary_period||"month"}`})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_,{className:"h-5 w-5 text-slate-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Location"}),e.jsx("p",{className:"font-medium",children:a==="tutor"?`${s.district||"N/A"}, ${s.division||"N/A"}`:s.location?.city||"N/A"})]})]}),a==="guardian"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(h,{className:"h-5 w-5 text-slate-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Sessions"}),e.jsxs("p",{className:"font-medium",children:[s.sessions_per_week||s.days_per_week," per week"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(w,{className:"h-5 w-5 text-slate-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Duration"}),e.jsxs("p",{className:"font-medium",children:[s.session_duration||s.duration_per_session," mins"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(h,{className:"h-5 w-5 text-slate-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Posted"}),e.jsx("p",{className:"font-medium",children:new Date(s.created_at).toLocaleDateString()})]})]})]})]}),e.jsxs(l,{children:[e.jsx(c,{children:e.jsx(n,{children:"Posted By"})}),e.jsxs(d,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(C,{className:"h-5 w-5 text-slate-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),e.jsx("p",{className:"font-medium",children:a==="tutor"?s.tutor?.user?.name:`${s.guardian?.first_name} ${s.guardian?.last_name}`})]})]}),a==="tutor"&&s.tutor&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(A,{className:"h-5 w-5 text-slate-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Tutor Code"}),e.jsx("p",{className:"font-medium",children:s.tutor.tutor_code})]})]}),a==="guardian"&&s.guardian?.user&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(k,{className:"h-5 w-5 text-slate-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),e.jsx("p",{className:"font-medium text-sm break-words",children:s.guardian.user.email})]})]}),s.guardian.phone&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(B,{className:"h-5 w-5 text-slate-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),e.jsx("p",{className:"font-medium",children:s.guardian.phone})]})]})]})]})]}),s.approval_status==="pending"&&e.jsxs(l,{children:[e.jsx(c,{children:e.jsx(n,{children:"Actions"})}),e.jsxs(d,{className:"space-y-2",children:[e.jsx(m,{className:"w-full",onClick:()=>{const r=a==="tutor"?"admin.tutor-job-requests.approve":"admin.jobs.approve";x.post(route(r,s.id))},children:"Approve Job"}),e.jsx(m,{variant:"destructive",className:"w-full",onClick:()=>{const r=prompt("Enter rejection reason:");if(r){const i=a==="tutor"?"admin.tutor-job-requests.reject":"admin.jobs.reject";x.post(route(i,s.id),{rejection_reason:r})}},children:"Reject Job"})]})]})]})]})]})})]})}export{b as default};
