import{r as p,b as I,j as e,H as M,a as y,L as U}from"./app-BKlUPja9.js";import{A as q,U as b}from"./AuthenticatedLayout-BBCvoygl.js";import{C as i,c as t}from"./card-Bsa_QJD0.js";import{B as r}from"./button-BOnWbanT.js";import{B as _}from"./badge-BKJNB0LX.js";import{A as X,h as J,i as K}from"./sheet-CR0d-NrC.js";import{D as w,a as C,b as T,c as V,d as R,e as D}from"./dialog-puMcS14H.js";import{T as A}from"./textarea--B5g4KcH.js";import{L as k}from"./label-CRH4T4gw.js";import{T as Q,a as W,b as f,c as g}from"./tabs-1A19LRhD.js";import{C as Y}from"./heroicons-currency-bangladeshi-0EsA_35h.js";import{C as S}from"./circle-check-big-C4NOUE2L.js";import{C as B}from"./circle-x-D2zEUUAc.js";import{G as Z}from"./graduation-cap-BgKWABOs.js";import{M as $}from"./map-pin-zGSPwdt2.js";import{C as ee}from"./calendar-COkuFL8y.js";import{A as se}from"./award-CSRJ63OT.js";import{E as ae}from"./eye-CTaDfDDi.js";import"./input-BbxIcf3J.js";import"./index-_UKj55wJ.js";import"./index-DP-xbu4A.js";import"./index-Cy0S65aw.js";import"./house-CalnQvlV.js";import"./user-CTo4RKCu.js";import"./file-text-KdPDcOeh.js";import"./search-mQ9eyyit.js";import"./users-ChHgEIvz.js";import"./book-open-CIFth59I.js";import"./mail-BUl7nOQn.js";import"./check-CQJoGw3_.js";import"./circle-prdkFnfj.js";function Pe({auth:ie,tutors:m,stats:h}){const[l,c]=p.useState(null),[F,d]=p.useState(!1),[L,o]=p.useState(!1),{data:n,setData:v,post:te,processing:x,reset:N}=I({verification_notes:""}),P=s=>{c(s),d(!0)},E=()=>{y.post(route("admin.tutors.verify",l.id),{notes:n.verification_notes},{onSuccess:()=>{d(!1),c(null),N()}})},z=s=>{c(s),o(!0)},H=()=>{y.post(route("admin.tutors.reject",l.id),{notes:n.verification_notes},{onSuccess:()=>{o(!1),c(null),N()}})},O=s=>({pending:"bg-yellow-100 text-yellow-800 border-yellow-200",verified:"bg-green-100 text-green-800 border-green-200",rejected:"bg-red-100 text-red-800 border-red-200"})[s]||"bg-gray-100 text-gray-800 border-gray-200",a={pending:m.filter(s=>s.verification_status==="pending"),verified:m.filter(s=>s.verification_status==="verified"),rejected:m.filter(s=>s.verification_status==="rejected")},j=({tutor:s})=>e.jsx(i,{className:"hover:shadow-lg transition-shadow",children:e.jsx(t,{className:"pt-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(X,{className:"h-20 w-20",children:[e.jsx(J,{src:s.photo_url}),e.jsx(K,{children:s.user?.name?.[0]||"T"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.user?.name||"N/A"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.tutor_code}),e.jsx("p",{className:"text-sm text-gray-600",children:s.user?.email})]}),e.jsx(_,{variant:"outline",className:O(s.verification_status),children:s.verification_status})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Z,{className:"h-4 w-4"}),e.jsxs("span",{children:[s.institution," - ",s.education_level]})]}),s.location&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx($,{className:"h-4 w-4"}),e.jsx("span",{children:s.location.city})]}),s.hourly_rate&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Y,{size:16,className:""}),e.jsxs("span",{children:[s.hourly_rate,"/month"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(ee,{className:"h-4 w-4"}),e.jsxs("span",{children:[s.experience_years," years experience"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsxs("span",{children:["Profile: ",s.profile_completion_percentage,"% complete"]})]})]}),s.subject_names&&s.subject_names.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Subjects:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.subject_names.map((u,G)=>e.jsx(_,{variant:"secondary",className:"text-xs",children:u},G))})]}),s.bio&&e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg mb-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Bio:"}),e.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:s.bio})]}),s.verification_notes&&e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg mb-4 border border-blue-200",children:[e.jsx("p",{className:"text-xs text-blue-600 mb-1",children:"Admin Notes:"}),e.jsx("p",{className:"text-sm text-blue-800",children:s.verification_notes})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(r,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(U,{href:route("admin.tutors.view",s.id),children:[e.jsx(ae,{className:"mr-2 h-4 w-4"}),"View Profile"]})}),s.verification_status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs(r,{size:"sm",onClick:()=>P(s),children:[e.jsx(S,{className:"mr-2 h-4 w-4"}),"Verify"]}),e.jsxs(r,{variant:"destructive",size:"sm",onClick:()=>z(s),children:[e.jsx(B,{className:"mr-2 h-4 w-4"}),"Reject"]})]})]})]})]})})});return e.jsxs(q,{children:[e.jsx(M,{title:"Tutor Verifications"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsx(i,{children:e.jsx(t,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:h.pending}),e.jsx("div",{className:"text-sm text-gray-600",children:"Pending Verification"})]})})}),e.jsx(i,{children:e.jsx(t,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:h.verified}),e.jsx("div",{className:"text-sm text-gray-600",children:"Verified Tutors"})]})})}),e.jsx(i,{children:e.jsx(t,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-red-600",children:h.rejected}),e.jsx("div",{className:"text-sm text-gray-600",children:"Rejected"})]})})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(b,{className:"h-8 w-8"}),"Tutor Verifications"]}),e.jsx("p",{className:"text-gray-600",children:"Review and verify tutor profiles"})]}),e.jsxs(Q,{defaultValue:"pending",className:"space-y-4",children:[e.jsxs(W,{className:"grid w-full grid-cols-3",children:[e.jsxs(f,{value:"pending",children:["Pending (",a.pending.length,")"]}),e.jsxs(f,{value:"verified",children:["Verified (",a.verified.length,")"]}),e.jsxs(f,{value:"rejected",children:["Rejected (",a.rejected.length,")"]})]}),e.jsx(g,{value:"pending",className:"space-y-4",children:a.pending.length===0?e.jsx(i,{children:e.jsxs(t,{className:"pt-6 text-center py-12",children:[e.jsx(b,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No pending verifications"}),e.jsx("p",{className:"text-gray-600",children:"All tutor profiles have been reviewed"})]})}):a.pending.map(s=>e.jsx(j,{tutor:s},s.id))}),e.jsx(g,{value:"verified",className:"space-y-4",children:a.verified.length===0?e.jsx(i,{children:e.jsxs(t,{className:"pt-6 text-center py-12",children:[e.jsx(S,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No verified tutors"}),e.jsx("p",{className:"text-gray-600",children:"Verified tutors will appear here"})]})}):a.verified.map(s=>e.jsx(j,{tutor:s},s.id))}),e.jsx(g,{value:"rejected",className:"space-y-4",children:a.rejected.length===0?e.jsx(i,{children:e.jsxs(t,{className:"pt-6 text-center py-12",children:[e.jsx(B,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No rejected tutors"}),e.jsx("p",{className:"text-gray-600",children:"Rejected tutors will appear here"})]})}):a.rejected.map(s=>e.jsx(j,{tutor:s},s.id))})]})]})}),e.jsx(w,{open:F,onOpenChange:d,children:e.jsxs(C,{children:[e.jsxs(T,{children:[e.jsx(V,{children:"Verify Tutor"}),e.jsxs(R,{children:["Confirm verification for ",l?.first_name," ",l?.last_name]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{htmlFor:"verification_notes",children:"Verification Notes (Optional)"}),e.jsx(A,{id:"verification_notes",placeholder:"Add any notes about this verification...",rows:3,value:n.verification_notes,onChange:s=>v("verification_notes",s.target.value)})]})}),e.jsxs(D,{children:[e.jsx(r,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),e.jsx(r,{onClick:E,disabled:x,children:x?"Verifying...":"Verify Tutor"})]})]})}),e.jsx(w,{open:L,onOpenChange:o,children:e.jsxs(C,{children:[e.jsxs(T,{children:[e.jsx(V,{children:"Reject Tutor"}),e.jsxs(R,{children:["Provide a reason for rejecting ",l?.first_name," ",l?.last_name]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{htmlFor:"rejection_notes",children:"Rejection Reason *"}),e.jsx(A,{id:"rejection_notes",placeholder:"Explain why this tutor is being rejected...",rows:4,value:n.verification_notes,onChange:s=>v("verification_notes",s.target.value),required:!0})]})}),e.jsxs(D,{children:[e.jsx(r,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),e.jsx(r,{variant:"destructive",onClick:H,disabled:x||!n.verification_notes,children:x?"Rejecting...":"Reject Tutor"})]})]})})]})}export{Pe as default};
