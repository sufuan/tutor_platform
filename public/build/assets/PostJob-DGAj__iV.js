import{r as M,b as B,j as e,H as b}from"./app-BKlUPja9.js";import{A as N}from"./AuthenticatedLayout-BBCvoygl.js";import{C as f,a as _,b as y,d as C,c as w}from"./card-Bsa_QJD0.js";import{I as o}from"./input-BbxIcf3J.js";import{T as J}from"./textarea--B5g4KcH.js";import{L as r}from"./label-CRH4T4gw.js";import{B as c}from"./button-BOnWbanT.js";import{S as m,a as x,b as h,c as p,d as t}from"./select-BvcK2T08.js";import{B as V}from"./badge-BKJNB0LX.js";import{A as S,a as P}from"./alert-BaU9vMd0.js";import{S as H,L as G}from"./SubjectSelector-DtMXzeOO.js";import{A as R}from"./arrow-left--XZ0bXcG.js";import{M as z}from"./map-pin-zGSPwdt2.js";import{C as I}from"./circle-alert-QLKjZlXO.js";import{C as q}from"./circle-check-BmPkyUFG.js";import{B as O}from"./file-text-KdPDcOeh.js";import{E as W}from"./eye-CTaDfDDi.js";import"./sheet-CR0d-NrC.js";import"./index-DP-xbu4A.js";import"./index-_UKj55wJ.js";import"./check-CQJoGw3_.js";import"./circle-prdkFnfj.js";import"./index-Cy0S65aw.js";import"./house-CalnQvlV.js";import"./user-CTo4RKCu.js";import"./search-mQ9eyyit.js";import"./users-ChHgEIvz.js";import"./book-open-CIFth59I.js";import"./mail-BUl7nOQn.js";import"./index-CyADkMtw.js";import"./chevron-down-DEZl6ENj.js";function Se({auth:d,locations:$=[],subjects:u=[],categories:U=[]}){const[k,j]=M.useState(!1),{data:i,setData:l,post:T,processing:n,errors:a,reset:D}=B({title:"",description:"",division:"",district:"",subjects:[],class_level:"",education_medium:"",tutor_gender_preference:"any",tuition_type:"home",sessions_per_week:"",session_duration:"",salary:""}),L=["Class 1","Class 2","Class 3","Class 4","Class 5","Class 6","Class 7","Class 8","Class 9","Class 10","O-Level","A-Level","HSC","Undergraduate","Graduate"],A=[{value:"home",label:"Home Tuition"},{value:"online",label:"Online Tuition"},{value:"group",label:"Group Tuition"}],F=[{value:"any",label:"Any"},{value:"male",label:"Male"},{value:"female",label:"Female"}],v=s=>{s.preventDefault(),T(route("admin.jobs.store"),{preserveScroll:!0,onSuccess:()=>{D()}})};return k?e.jsxs(N,{children:[e.jsx(b,{title:"Preview Job Post"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(f,{children:[e.jsx(_,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(y,{className:"text-2xl",children:"Preview Job Post"}),e.jsx(C,{children:"Review before publishing"})]}),e.jsxs(c,{variant:"outline",onClick:()=>j(!1),children:[e.jsx(R,{className:"mr-2 h-4 w-4"}),"Back to Edit"]})]})}),e.jsxs(w,{className:"space-y-6",children:[e.jsx("div",{children:e.jsx("h3",{className:"text-xl font-bold mb-4",children:i.title})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Class Level"}),e.jsx("p",{className:"font-semibold",children:i.class_level})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Education Medium"}),e.jsx("p",{className:"font-semibold capitalize",children:i.education_medium.replace("_"," ")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Tuition Type"}),e.jsx("p",{className:"font-semibold capitalize",children:i.tuition_type})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Preferred Tutor Gender"}),e.jsx("p",{className:"font-semibold capitalize",children:i.tutor_gender_preference})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Sessions per Week"}),e.jsxs("p",{className:"font-semibold",children:[i.sessions_per_week," days"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Session Duration"}),e.jsxs("p",{className:"font-semibold",children:[i.session_duration," minutes"]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Monthly Salary"}),e.jsx("p",{className:"font-semibold text-green-600 text-lg",children:i.salary})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Subjects Required"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:i.subjects.map(s=>{const g=u.find(E=>E.id===parseInt(s));return g?e.jsx(V,{children:g.name},s):null})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:i.description})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[e.jsx(z,{className:"h-4 w-4"}),"Location"]}),e.jsx("p",{className:"text-gray-600",children:i.district&&i.division?`${i.district}, ${i.division}`:"Not specified"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(c,{onClick:v,disabled:n,className:"flex-1",children:n?"Publishing...":"Publish Job"}),e.jsx(c,{variant:"outline",onClick:()=>j(!1),children:"Edit"})]})]})]})})})]}):e.jsxs(N,{children:[e.jsx(b,{title:"Admin - Post Job"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:[d.flash?.error&&e.jsxs(S,{variant:"destructive",className:"mb-6",children:[e.jsx(I,{className:"h-4 w-4"}),e.jsx(P,{children:d.flash.error})]}),d.flash?.success&&e.jsxs(S,{className:"mb-6 bg-green-50 text-green-800 border-green-200",children:[e.jsx(q,{className:"h-4 w-4"}),e.jsx(P,{children:d.flash.success})]}),e.jsxs(f,{children:[e.jsxs(_,{children:[e.jsxs(y,{className:"text-2xl flex items-center gap-2",children:[e.jsx(O,{className:"h-6 w-6"}),"Post a New Job (Admin)"]}),e.jsx(C,{children:"Create a job posting that will be automatically approved"})]}),e.jsx(w,{children:e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"title",children:"Job Title *"}),e.jsx(o,{id:"title",placeholder:"e.g., Math and Science Tutor for Class 8",value:i.title,onChange:s=>l("title",s.target.value)}),a.title&&e.jsx("p",{className:"text-sm text-red-500",children:a.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"description",children:"Job Description *"}),e.jsx(J,{id:"description",placeholder:"Describe what you're looking for in a tutor...",rows:5,value:i.description,onChange:s=>l("description",s.target.value)}),a.description&&e.jsx("p",{className:"text-sm text-red-500",children:a.description})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{subjects:u,selectedSubjects:i.subjects,onSubjectsChange:s=>l("subjects",s),label:"Subjects Required *",placeholder:"Search subjects..."}),a.subjects&&e.jsx("p",{className:"text-sm text-red-500",children:a.subjects})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"class_level",children:"Class Level *"}),e.jsxs(m,{value:i.class_level,onValueChange:s=>l("class_level",s),children:[e.jsx(x,{children:e.jsx(h,{placeholder:"Select class"})}),e.jsx(p,{children:L.map(s=>e.jsx(t,{value:s,children:s},s))})]}),a.class_level&&e.jsx("p",{className:"text-sm text-red-500",children:a.class_level})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"education_medium",children:"Education Medium *"}),e.jsxs(m,{value:i.education_medium,onValueChange:s=>l("education_medium",s),children:[e.jsx(x,{children:e.jsx(h,{})}),e.jsxs(p,{children:[e.jsx(t,{value:"bangla",children:"Bangla Medium"}),e.jsx(t,{value:"english",children:"English Medium"}),e.jsx(t,{value:"english_version",children:"English Version"})]})]}),a.education_medium&&e.jsx("p",{className:"text-sm text-red-500",children:a.education_medium})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"tuition_type",children:"Tuition Type *"}),e.jsxs(m,{value:i.tuition_type,onValueChange:s=>l("tuition_type",s),children:[e.jsx(x,{children:e.jsx(h,{})}),e.jsx(p,{children:A.map(s=>e.jsx(t,{value:s.value,children:s.label},s.value))})]}),a.tuition_type&&e.jsx("p",{className:"text-sm text-red-500",children:a.tuition_type})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"tutor_gender_preference",children:"Preferred Tutor Gender"}),e.jsxs(m,{value:i.tutor_gender_preference,onValueChange:s=>l("tutor_gender_preference",s),children:[e.jsx(x,{children:e.jsx(h,{})}),e.jsx(p,{children:F.map(s=>e.jsx(t,{value:s.value,children:s.label},s.value))})]}),a.tutor_gender_preference&&e.jsx("p",{className:"text-sm text-red-500",children:a.tutor_gender_preference})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"sessions_per_week",children:"Sessions per Week *"}),e.jsx(o,{id:"sessions_per_week",type:"number",min:"1",max:"7",placeholder:"e.g., 3",value:i.sessions_per_week,onChange:s=>l("sessions_per_week",s.target.value)}),a.sessions_per_week&&e.jsx("p",{className:"text-sm text-red-500",children:a.sessions_per_week})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"session_duration",children:"Session Duration (minutes) *"}),e.jsx(o,{id:"session_duration",type:"number",min:"30",max:"180",placeholder:"e.g., 60",value:i.session_duration,onChange:s=>l("session_duration",s.target.value)}),a.session_duration&&e.jsx("p",{className:"text-sm text-red-500",children:a.session_duration})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Location *"}),e.jsx(G,{divisionValue:i.division,districtValue:i.district,onDivisionChange:s=>l("division",s),onDistrictChange:s=>l("district",s)}),(a.division||a.district)&&e.jsx("p",{className:"text-sm text-red-500",children:a.division||a.district})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"salary",children:"Monthly Salary (BDT) *"}),e.jsx(o,{id:"salary",type:"number",min:"0",placeholder:"e.g., 5000",value:i.salary,onChange:s=>l("salary",s.target.value)}),a.salary&&e.jsx("p",{className:"text-sm text-red-500",children:a.salary})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsxs(c,{type:"button",variant:"outline",onClick:()=>j(!0),disabled:n,className:"flex-1",children:[e.jsx(W,{className:"mr-2 h-4 w-4"}),"Preview"]}),e.jsx(c,{type:"submit",disabled:n,className:"flex-1",children:n?"Publishing...":"Publish Job"})]})]})})]})]})})]})}export{Se as default};
