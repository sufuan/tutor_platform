import{b as C,j as e,H as S,L as _}from"./app-B1hZftyq.js";import{A}from"./AuthenticatedLayout-CIZ4Pxv8.js";import{C as c,a as x,b as o,d as h,c as p}from"./card-D69SnldQ.js";import{B as j}from"./button-BZhjR2pP.js";import{B as l}from"./badge-DhtPWUpo.js";import{L as u}from"./label-hoQ6zNv2.js";import{T as y}from"./textarea-iwqDQRjj.js";import{S as D,a as L,b as R,c as B,d as t}from"./select-ExtiCCWn.js";import{A as g,a as N}from"./alert-DGq89Bru.js";import{C as f}from"./circle-check-DYUtjWk-.js";import{C as M}from"./circle-alert-Du7q0dcn.js";import{A as T}from"./arrow-left-JrU6B8Ot.js";import{M as F}from"./mail-CUqZy4td.js";import{P as k}from"./phone-DqCY5rSm.js";import{C as H}from"./calendar-BtVJ0sDz.js";import"./sheet-COiDecRv.js";import"./index-BD5i_3I6.js";import"./index-CbjoYbgU.js";import"./check-B-TGNV8G.js";import"./circle-Cwnby7rr.js";import"./input-5F-Xxuhy.js";import"./index-C4U5YfeL.js";import"./house-C9L0Wz_0.js";import"./user-BY0_b5xP.js";import"./file-text-BQASWclv.js";import"./search-BnMJsqJ_.js";import"./users-BdNJPa1K.js";import"./book-open-C4YDKc-g.js";import"./index-xCnib5Xq.js";import"./chevron-down-Bz11veJy.js";function he({auth:r,contact:s}){const{data:i,setData:d,post:v,processing:n}=C({status:s.status,admin_notes:s.admin_notes||""}),b=a=>{a.preventDefault(),v(route("admin.contacts.update-status",s.id),{preserveScroll:!0})},w=a=>{const m={new:e.jsx(l,{className:"bg-blue-100 text-blue-800 border-blue-200",children:"New"}),read:e.jsx(l,{variant:"outline",className:"bg-slate-100 text-slate-800 border-slate-200",children:"Read"}),replied:e.jsx(l,{className:"bg-green-100 text-green-800 border-green-200",children:"Replied"})};return m[a]||m.new};return e.jsxs(A,{children:[e.jsx(S,{title:"Contact Message Details"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-5xl mx-auto sm:px-6 lg:px-8",children:[r.flash?.success&&e.jsxs(g,{className:"mb-6 bg-green-50 text-green-800 border-green-200",children:[e.jsx(f,{className:"h-4 w-4"}),e.jsx(N,{children:r.flash.success})]}),r.flash?.error&&e.jsxs(g,{variant:"destructive",className:"mb-6",children:[e.jsx(M,{className:"h-4 w-4"}),e.jsx(N,{children:r.flash.error})]}),e.jsx("div",{className:"mb-4",children:e.jsx(j,{variant:"outline",asChild:!0,children:e.jsxs(_,{href:route("admin.contacts.index"),children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),"Back to Messages"]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(c,{children:[e.jsx(x,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(o,{className:"text-2xl",children:s.subject}),e.jsxs(h,{className:"mt-2",children:["From: ",s.name]})]}),w(s.status)]})}),e.jsxs(p,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-4 w-4 text-slate-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Email"}),e.jsx("p",{className:"font-medium",children:s.email})]})]}),s.phone&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-4 w-4 text-slate-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Phone"}),e.jsx("p",{className:"font-medium",children:s.phone})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-4 w-4 text-slate-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Received"}),e.jsx("p",{className:"font-medium",children:new Date(s.created_at).toLocaleDateString()})]})]}),s.replied_at&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{className:"h-4 w-4 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Replied"}),e.jsx("p",{className:"font-medium",children:new Date(s.replied_at).toLocaleDateString()})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Message"}),e.jsx("div",{className:"p-4 bg-slate-50 rounded-lg",children:e.jsx("p",{className:"whitespace-pre-wrap text-slate-700",children:s.message})})]}),s.admin_notes&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Admin Notes"}),e.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:e.jsx("p",{className:"whitespace-pre-wrap text-slate-700",children:s.admin_notes})})]})]})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(c,{children:[e.jsxs(x,{children:[e.jsx(o,{children:"Update Status"}),e.jsx(h,{children:"Change message status and add notes"})]}),e.jsx(p,{children:e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"status",children:"Status"}),e.jsxs(D,{value:i.status,onValueChange:a=>d("status",a),children:[e.jsx(L,{children:e.jsx(R,{})}),e.jsxs(B,{children:[e.jsx(t,{value:"new",children:"New"}),e.jsx(t,{value:"read",children:"Read"}),e.jsx(t,{value:"replied",children:"Replied"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"admin_notes",children:"Admin Notes"}),e.jsx(y,{id:"admin_notes",placeholder:"Add internal notes about this message...",rows:6,value:i.admin_notes,onChange:a=>d("admin_notes",a.target.value)}),e.jsx("p",{className:"text-xs text-slate-500",children:"These notes are for internal use only"})]}),e.jsx(j,{type:"submit",disabled:n,className:"w-full",children:n?"Saving...":"Update Status"})]})})]})})]})]})})]})}export{he as default};
