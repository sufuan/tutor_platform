import{r as N,b as V,j as e,H as b}from"./app-BM39ZNPj.js";import{A as _}from"./AuthenticatedLayout-BuyVMY46.js";import{C as y,a as C,b as w,d as S,c as k}from"./card-CZV2a5qS.js";import{I as m}from"./input-Bisg48ya.js";import{T as q}from"./textarea-Bssh_41k.js";import{L as l}from"./label-DHdrAhPO.js";import{B as t}from"./button-L9Ibkh2e.js";import{S as h,a as p,b as u,c as j,d as n}from"./select-Br7PBv8g.js";import"./checkbox-CqgLmWpv.js";import{B as P}from"./badge-BOorG3Y2.js";import{A as T,a as D}from"./alert-Be5Qo1DO.js";import{S as R,L as H}from"./SubjectSelector-D70YUwtx.js";import{A as z}from"./arrow-left-u4_UzMY-.js";import{M as G}from"./map-pin-QHVYB8Zg.js";import{C as $}from"./circle-alert-B-6xtTvf.js";import{C as I}from"./circle-check-DqTg1QR_.js";import{B as W}from"./file-text-lJzWKPdZ.js";import{E as O}from"./eye-CozXiuhC.js";import"./sheet-BYX3EfCP.js";import"./index-9K_qhvjF.js";import"./index-C0p4j4ih.js";import"./check-CT69isk3.js";import"./circle-DcQcNfkJ.js";import"./index-CUeSS-K4.js";import"./house-CMaEuJe6.js";import"./user-B8-6hGb0.js";import"./search-CoJaJ27H.js";import"./users-DwKGvgzc.js";import"./book-open-D_bcU3AP.js";import"./mail-C7HWZAv2.js";import"./index-BwLWC0WF.js";import"./chevron-down-B9Yt-_-9.js";function De({auth:c,locations:U=[],subjects:g=[],students:Y=[]}){const[K,Q]=N.useState(1),[F,v]=N.useState(!1),{data:i,setData:r,post:L,processing:d,errors:a,reset:M}=V({title:"",description:"",division:"",district:"",preferred_location:"",subjects:[],class_level:"",education_medium:"",tutor_gender_preference:"any",tuition_type:"home",sessions_per_week:[],session_duration:"",salary:""}),A=["Class 1","Class 2","Class 3","Class 4","Class 5","Class 6","Class 7","Class 8","Class 9","Class 10","O-Level","A-Level","HSC","Undergraduate","Graduate"],E=[{value:"home",label:"Home Tuition"},{value:"online",label:"Online Tuition"},{value:"group",label:"Group Tuition"}],B=[{value:"any",label:"Any"},{value:"male",label:"Male"},{value:"female",label:"Female"}],o=()=>i.title&&i.description&&i.division&&i.district&&i.subjects.length>0&&i.class_level&&i.education_medium&&i.tuition_type&&i.sessions_per_week.length>0&&i.session_duration&&i.salary,f=s=>{s.preventDefault(),L(route("guardian.jobs.store"),{preserveScroll:!0,onSuccess:()=>{M()}})};return F?e.jsxs(_,{children:[e.jsx(b,{title:"Preview Job Post"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(y,{children:[e.jsx(C,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(w,{className:"text-2xl",children:"Preview Your Job Post"}),e.jsx(S,{children:"Review before publishing"})]}),e.jsxs(t,{variant:"outline",onClick:()=>v(!1),children:[e.jsx(z,{className:"mr-2 h-4 w-4"}),"Back to Edit"]})]})}),e.jsxs(k,{className:"space-y-6",children:[e.jsx("div",{children:e.jsx("h3",{className:"text-xl font-bold mb-4",children:i.title})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Class Level"}),e.jsx("p",{className:"font-semibold",children:i.class_level})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Education Medium"}),e.jsx("p",{className:"font-semibold capitalize",children:i.education_medium.replace("_"," ")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Tuition Type"}),e.jsx("p",{className:"font-semibold capitalize",children:i.tuition_type})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Preferred Tutor Gender"}),e.jsx("p",{className:"font-semibold capitalize",children:i.tutor_gender_preference})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Sessions per Week"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:i.sessions_per_week.length>0?i.sessions_per_week.map(s=>e.jsx(P,{variant:"secondary",children:s.substring(0,3)},s)):e.jsx("p",{className:"font-semibold text-gray-400",children:"Not selected"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Session Duration"}),e.jsxs("p",{className:"font-semibold",children:[i.session_duration," minutes"]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Monthly Salary"}),e.jsx("p",{className:"font-semibold text-green-600 text-lg",children:i.salary})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Subjects Required"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:i.subjects.map(s=>{const x=g.find(J=>J.id===parseInt(s));return x?e.jsx(P,{children:x.name},s):null})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:i.description})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4"}),"Location"]}),e.jsx("p",{className:"text-gray-600",children:i.preferred_location&&i.district?`${i.preferred_location}, ${i.district}`:i.district&&i.division?`${i.district}, ${i.division}`:"Not specified"})]}),i.special_requirements&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Special Requirements"}),e.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:i.special_requirements})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(t,{onClick:f,disabled:d||!o(),className:"flex-1",children:d?"Publishing...":"Publish Job"}),e.jsx(t,{variant:"outline",onClick:()=>v(!1),children:"Edit"})]})]})]})})})]}):e.jsxs(_,{children:[e.jsx(b,{title:"Post a Job"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:[c.flash?.error&&e.jsxs(T,{variant:"destructive",className:"mb-6",children:[e.jsx($,{className:"h-4 w-4"}),e.jsx(D,{children:c.flash.error})]}),c.flash?.success&&e.jsxs(T,{className:"mb-6 bg-green-50 text-green-800 border-green-200",children:[e.jsx(I,{className:"h-4 w-4"}),e.jsx(D,{children:c.flash.success})]}),e.jsxs(y,{children:[e.jsxs(C,{children:[e.jsxs(w,{className:"text-2xl flex items-center gap-2",children:[e.jsx(W,{className:"h-6 w-6"}),"Post a New Tuition Job"]}),e.jsx(S,{children:"Fill in the details to find the perfect tutor for your student"})]}),e.jsx(k,{children:e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"title",children:"Job Title *"}),e.jsx(m,{id:"title",placeholder:"e.g., Math and Science Tutor for Class 8",value:i.title,onChange:s=>r("title",s.target.value)}),a.title&&e.jsx("p",{className:"text-sm text-red-500",children:a.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"description",children:"Job Description *"}),e.jsx(q,{id:"description",placeholder:"Describe what you're looking for in a tutor...",rows:5,value:i.description,onChange:s=>r("description",s.target.value)}),a.description&&e.jsx("p",{className:"text-sm text-red-500",children:a.description})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{subjects:g,selectedSubjects:i.subjects,onSubjectsChange:s=>r("subjects",s),label:"Subjects Required *",placeholder:"Search subjects..."}),a.subjects&&e.jsx("p",{className:"text-sm text-red-500",children:a.subjects})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"class_level",children:"Class Level *"}),e.jsxs(h,{value:i.class_level,onValueChange:s=>r("class_level",s),children:[e.jsx(p,{children:e.jsx(u,{placeholder:"Select class"})}),e.jsx(j,{children:A.map(s=>e.jsx(n,{value:s,children:s},s))})]}),a.class_level&&e.jsx("p",{className:"text-sm text-red-500",children:a.class_level})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"education_medium",children:"Education Medium *"}),e.jsxs(h,{value:i.education_medium,onValueChange:s=>r("education_medium",s),children:[e.jsx(p,{children:e.jsx(u,{})}),e.jsxs(j,{children:[e.jsx(n,{value:"bangla",children:"Bangla Medium"}),e.jsx(n,{value:"english",children:"English Medium"}),e.jsx(n,{value:"english_version",children:"English Version"})]})]}),a.education_medium&&e.jsx("p",{className:"text-sm text-red-500",children:a.education_medium})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"tuition_type",children:"Tuition Type *"}),e.jsxs(h,{value:i.tuition_type,onValueChange:s=>r("tuition_type",s),children:[e.jsx(p,{children:e.jsx(u,{})}),e.jsx(j,{children:E.map(s=>e.jsx(n,{value:s.value,children:s.label},s.value))})]}),a.tuition_type&&e.jsx("p",{className:"text-sm text-red-500",children:a.tuition_type})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"tutor_gender_preference",children:"Preferred Tutor Gender"}),e.jsxs(h,{value:i.tutor_gender_preference,onValueChange:s=>r("tutor_gender_preference",s),children:[e.jsx(p,{children:e.jsx(u,{})}),e.jsx(j,{children:B.map(s=>e.jsx(n,{value:s.value,children:s.label},s.value))})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Days per Week *"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Select the days when tuition will be held"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].map(s=>e.jsx(t,{type:"button",variant:i.sessions_per_week.includes(s)?"default":"outline",size:"sm",onClick:()=>{i.sessions_per_week.includes(s)?r("sessions_per_week",i.sessions_per_week.filter(x=>x!==s)):r("sessions_per_week",[...i.sessions_per_week,s])},children:s.substring(0,3)},s))}),a.sessions_per_week&&e.jsx("p",{className:"text-sm text-red-500",children:a.sessions_per_week})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"session_duration",children:"Duration per Session (minutes) *"}),e.jsx(m,{id:"session_duration",type:"number",min:"30",max:"180",placeholder:"e.g., 60",value:i.session_duration,onChange:s=>r("session_duration",s.target.value)}),a.session_duration&&e.jsx("p",{className:"text-sm text-red-500",children:a.session_duration})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"salary",children:"Monthly Salary (BDT) *"}),e.jsx(m,{id:"salary",type:"number",min:"0",step:"100",placeholder:"e.g., 5000",value:i.salary,onChange:s=>r("salary",s.target.value)}),a.salary&&e.jsx("p",{className:"text-sm text-red-500",children:a.salary})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Division & District *"}),e.jsx(H,{divisionValue:i.division,districtValue:i.district,onDivisionChange:s=>r("division",s),onDistrictChange:s=>r("district",s)}),(a.division||a.district)&&e.jsx("p",{className:"text-sm text-red-500",children:a.division||a.district})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"preferred_location",children:"Preferred Location"}),e.jsx(m,{id:"preferred_location",placeholder:"e.g., Dhanmondi, Road 27",value:i.preferred_location,onChange:s=>r("preferred_location",s.target.value)}),e.jsx("p",{className:"text-xs text-gray-500",children:"Specific area or landmark within the district"}),a.preferred_location&&e.jsx("p",{className:"text-sm text-red-500",children:a.preferred_location})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(t,{type:"button",variant:"outline",onClick:()=>v(!0),disabled:!o(),className:"flex-1",children:[e.jsx(O,{className:"mr-2 h-4 w-4"}),"Preview"]}),e.jsx(t,{type:"submit",disabled:d||!o(),className:"flex-1",children:d?"Publishing...":"Publish Job"})]}),!o()&&e.jsx("p",{className:"text-sm text-red-500 text-center mt-2",children:"Please fill in all required fields before submitting or previewing"})]})})]})]})})]})}export{De as default};
