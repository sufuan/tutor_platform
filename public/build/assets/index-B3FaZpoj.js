import{r,j as R,G as x,t as q}from"./app-B63PtWLD.js";import{c as L,f as z,P as G,a as h,u as Z}from"./index-D3bRAgg9.js";import{g as J,u as O}from"./button-DV66Woy4.js";function Q(e){const t=r.useRef(e);return r.useEffect(()=>{t.current=e}),r.useMemo(()=>(...n)=>t.current?.(...n),[])}function j(e){const t=X(e),n=r.forwardRef((o,c)=>{const{children:l,...d}=o,u=r.Children.toArray(l),g=u.find(te);if(g){const p=g.props.children,a=u.map(S=>S===g?r.Children.count(p)>1?r.Children.only(null):r.isValidElement(p)?p.props.children:null:S);return R.jsx(t,{...d,ref:c,children:r.isValidElement(p)?r.cloneElement(p,void 0,a):null})}return R.jsx(t,{...d,ref:c,children:l})});return n.displayName=`${e}.Slot`,n}function X(e){const t=r.forwardRef((n,o)=>{const{children:c,...l}=n;if(r.isValidElement(c)){const d=ne(c),u=oe(l,c.props);return c.type!==r.Fragment&&(u.ref=o?J(o,d):d),r.cloneElement(c,u)}return r.Children.count(c)>1?r.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ee=Symbol("radix.slottable");function te(e){return r.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ee}function oe(e,t){const n={...t};for(const o in t){const c=e[o],l=t[o];/^on[A-Z]/.test(o)?c&&l?n[o]=(...u)=>{const g=l(...u);return c(...u),g}:c&&(n[o]=c):o==="style"?n[o]={...c,...l}:o==="className"&&(n[o]=[c,l].filter(Boolean).join(" "))}return{...e,...n}}function ne(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function re(e){const t=e+"CollectionProvider",[n,o]=L(t),[c,l]=n(t,{collectionRef:{current:null},itemMap:new Map}),d=v=>{const{scope:s,children:m}=v,C=x.useRef(null),i=x.useRef(new Map).current;return R.jsx(c,{scope:s,itemMap:i,collectionRef:C,children:m})};d.displayName=t;const u=e+"CollectionSlot",g=j(u),p=x.forwardRef((v,s)=>{const{scope:m,children:C}=v,i=l(u,m),f=O(s,i.collectionRef);return R.jsx(g,{ref:f,children:C})});p.displayName=u;const a=e+"CollectionItemSlot",S="data-radix-collection-item",y=j(a),E=x.forwardRef((v,s)=>{const{scope:m,children:C,...i}=v,f=x.useRef(null),T=O(s,f),w=l(a,m);return x.useEffect(()=>(w.itemMap.set(f,{ref:f,...i}),()=>{w.itemMap.delete(f)})),R.jsx(y,{[S]:"",ref:T,children:C})});E.displayName=a;function F(v){const s=l(e+"CollectionConsumer",v);return x.useCallback(()=>{const C=s.collectionRef.current;if(!C)return[];const i=Array.from(C.querySelectorAll(`[${S}]`));return Array.from(s.itemMap.values()).sort((w,_)=>i.indexOf(w.ref.current)-i.indexOf(_.ref.current))},[s.collectionRef,s.itemMap])}return[{Provider:d,Slot:p,ItemSlot:E},F,o]}var se=r.createContext(void 0);function ce(e){const t=r.useContext(se);return e||t||"ltr"}var ie=q[" useId ".trim().toString()]||(()=>{}),le=0;function ae(e){const[t,n]=r.useState(ie());return z(()=>{n(o=>o??String(le++))},[e]),e||(t?`radix-${t}`:"")}var P="rovingFocusGroup.onEntryFocus",ue={bubbles:!1,cancelable:!0},A="RovingFocusGroup",[M,K,fe]=re(A),[de,ye]=L(A,[fe]),[pe,me]=de(A),k=r.forwardRef((e,t)=>R.jsx(M.Provider,{scope:e.__scopeRovingFocusGroup,children:R.jsx(M.Slot,{scope:e.__scopeRovingFocusGroup,children:R.jsx(Ie,{...e,ref:t})})}));k.displayName=A;var Ie=r.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:c=!1,dir:l,currentTabStopId:d,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:g,onEntryFocus:p,preventScrollOnEntryFocus:a=!1,...S}=e,y=r.useRef(null),E=O(t,y),F=ce(l),[v,s]=Z({prop:d,defaultProp:u??null,onChange:g,caller:A}),[m,C]=r.useState(!1),i=Q(p),f=K(n),T=r.useRef(!1),[w,_]=r.useState(0);return r.useEffect(()=>{const I=y.current;if(I)return I.addEventListener(P,i),()=>I.removeEventListener(P,i)},[i]),R.jsx(pe,{scope:n,orientation:o,dir:F,loop:c,currentTabStopId:v,onItemFocus:r.useCallback(I=>s(I),[s]),onItemShiftTab:r.useCallback(()=>C(!0),[]),onFocusableItemAdd:r.useCallback(()=>_(I=>I+1),[]),onFocusableItemRemove:r.useCallback(()=>_(I=>I-1),[]),children:R.jsx(G.div,{tabIndex:m||w===0?-1:0,"data-orientation":o,...S,ref:E,style:{outline:"none",...e.style},onMouseDown:h(e.onMouseDown,()=>{T.current=!0}),onFocus:h(e.onFocus,I=>{const W=!T.current;if(I.target===I.currentTarget&&W&&!m){const D=new CustomEvent(P,ue);if(I.currentTarget.dispatchEvent(D),!D.defaultPrevented){const N=f().filter(b=>b.focusable),H=N.find(b=>b.active),$=N.find(b=>b.id===v),Y=[H,$,...N].filter(Boolean).map(b=>b.ref.current);B(Y,a)}}T.current=!1}),onBlur:h(e.onBlur,()=>C(!1))})})}),V="RovingFocusGroupItem",U=r.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:c=!1,tabStopId:l,children:d,...u}=e,g=ae(),p=l||g,a=me(V,n),S=a.currentTabStopId===p,y=K(n),{onFocusableItemAdd:E,onFocusableItemRemove:F,currentTabStopId:v}=a;return r.useEffect(()=>{if(o)return E(),()=>F()},[o,E,F]),R.jsx(M.ItemSlot,{scope:n,id:p,focusable:o,active:c,children:R.jsx(G.span,{tabIndex:S?0:-1,"data-orientation":a.orientation,...u,ref:t,onMouseDown:h(e.onMouseDown,s=>{o?a.onItemFocus(p):s.preventDefault()}),onFocus:h(e.onFocus,()=>a.onItemFocus(p)),onKeyDown:h(e.onKeyDown,s=>{if(s.key==="Tab"&&s.shiftKey){a.onItemShiftTab();return}if(s.target!==s.currentTarget)return;const m=Re(s,a.orientation,a.dir);if(m!==void 0){if(s.metaKey||s.ctrlKey||s.altKey||s.shiftKey)return;s.preventDefault();let i=y().filter(f=>f.focusable).map(f=>f.ref.current);if(m==="last")i.reverse();else if(m==="prev"||m==="next"){m==="prev"&&i.reverse();const f=i.indexOf(s.currentTarget);i=a.loop?ge(i,f+1):i.slice(f+1)}setTimeout(()=>B(i))}}),children:typeof d=="function"?d({isCurrentTabStop:S,hasTabStop:v!=null}):d})})});U.displayName=V;var ve={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ce(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Re(e,t,n){const o=Ce(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return ve[o]}function B(e,t=!1){const n=document.activeElement;for(const o of e)if(o===n||(o.focus({preventScroll:t}),document.activeElement!==n))return}function ge(e,t){return e.map((n,o)=>e[(t+o)%e.length])}var Fe=k,Te=U;export{Te as I,Fe as R,ae as a,re as b,ye as c,Q as d,ce as u};
