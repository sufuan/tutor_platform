import{r as t,j as a}from"./app-BKlUPja9.js";import{L as N}from"./label-CRH4T4gw.js";import{S as b,a as v,b as y,c as S,d as p}from"./select-BvcK2T08.js";import{I as w}from"./input-BbxIcf3J.js";import{B as D}from"./badge-BKJNB0LX.js";import{B as R}from"./button-BOnWbanT.js";import{C as k,c as B}from"./card-Bsa_QJD0.js";import{C as I}from"./check-CQJoGw3_.js";import{X as E}from"./sheet-CR0d-NrC.js";import{S as J}from"./search-mQ9eyyit.js";const A={Dhaka:["Dhaka","Faridpur","Gazipur","Gopalganj","Kishoreganj","Madaripur","Manikganj","Munshiganj","Narayanganj","Narsingdi","Rajbari","Shariatpur","Tangail"],Chattogram:["Bandarban","Brahmanbaria","Chandpur","Chattogram","Cumilla","Cox's Bazar","Feni","Khagrachhari","Lakshmipur","Noakhali","Rangamati"],Rajshahi:["Bogura","Joypurhat","Naogaon","Natore","Chapai Nawabganj","Pabna","Rajshahi","Sirajganj"],Khulna:["Bagerhat","Chuadanga","Jessore","Jhenaidah","Khulna","Kushtia","Magura","Meherpur","Narail","Satkhira"],Barishal:["Barguna","Barishal","Bhola","Jhalokati","Patuakhali","Pirojpur"],Sylhet:["Habiganj","Moulvibazar","Sunamganj","Sylhet"],Rangpur:["Dinajpur","Gaibandha","Kurigram","Lalmonirhat","Nilphamari","Panchagarh","Rangpur","Thakurgaon"],Mymensingh:["Jamalpur","Mymensingh","Netrokona","Sherpur"]};function _({divisionValue:r,districtValue:o,onDivisionChange:u,onDistrictChange:c,divisionLabel:j="Division",districtLabel:d="District",showLabels:g=!0,className:h=""}){const[f,l]=t.useState([]),[x,m]=t.useState([]),[n,C]=t.useState(!1);return t.useEffect(()=>{const s=Object.keys(A);l(s.map(e=>({division:e})))},[]),t.useEffect(()=>{if(r&&r!=="all"){const s=A[r]||[];m(s)}else m([]),c&&c("")},[r]),a.jsxs("div",{className:`space-y-4 ${h}`,children:[a.jsxs("div",{children:[g&&a.jsx(N,{children:j}),a.jsxs(b,{value:r||"",onValueChange:s=>{u(s),c&&c("")},disabled:n,children:[a.jsx(v,{children:a.jsx(y,{placeholder:n?"Loading...":"Select Division"})}),a.jsx(S,{children:f.map((s,e)=>a.jsx(p,{value:s.division,children:s.division},e))})]})]}),r&&r!=="all"&&a.jsxs("div",{children:[g&&a.jsx(N,{children:d}),a.jsxs(b,{value:o||"",onValueChange:c,disabled:n||!x.length,children:[a.jsx(v,{children:a.jsx(y,{placeholder:n?"Loading...":x.length?"Select District":"No districts available"})}),a.jsx(S,{children:x.map((s,e)=>a.jsx(p,{value:s,children:s},`${s}-${e}`))})]})]})]})}function q({subjects:r=[],selectedSubjects:o=[],onSubjectsChange:u,label:c="Subjects",placeholder:j="Search subjects..."}){const[d,g]=t.useState(""),[h,f]=t.useState("all"),l=t.useMemo(()=>{if(Array.isArray(o))return o.map(e=>parseInt(e));if(typeof o=="string")try{const e=JSON.parse(o);return Array.isArray(e)?e.map(i=>parseInt(i)):[]}catch{return[]}return[]},[o]),x=t.useMemo(()=>{const e=new Set;return r.forEach(i=>{i.category?.name&&e.add(i.category.name)}),Array.from(e).sort()},[r]),m=t.useMemo(()=>r.filter(e=>{const i=e.name.toLowerCase().includes(d.toLowerCase()),L=h==="all"||e.category?.name===h,M=!l.includes(e.id);return i&&L&&M}),[r,d,h,l]),n=t.useMemo(()=>r.filter(e=>l.includes(e.id)),[r,l]),C=e=>{l.includes(e)||u([...l,e])},s=e=>{u(l.filter(i=>i!==e))};return a.jsxs("div",{className:"space-y-4",children:[a.jsx(N,{children:c}),n.length>0&&a.jsx(k,{className:"bg-blue-50 border-blue-200",children:a.jsxs(B,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("span",{className:"text-sm font-medium text-blue-900",children:["Selected Subjects (",n.length,")"]}),a.jsx(R,{type:"button",variant:"ghost",size:"sm",onClick:()=>u([]),className:"h-6 text-xs text-blue-700 hover:text-blue-900",children:"Clear All"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(e=>a.jsxs(D,{variant:"secondary",className:"bg-blue-100 text-blue-900 border-blue-300 hover:bg-blue-200 pr-1 text-sm",children:[a.jsx(I,{className:"h-3 w-3 mr-1"}),e.name,a.jsx("button",{type:"button",onClick:()=>s(e.id),className:"ml-1 hover:bg-blue-300 rounded-full p-0.5",children:a.jsx(E,{className:"h-3 w-3"})})]},e.id))})]})}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(J,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(w,{placeholder:j,value:d,onChange:e=>g(e.target.value),className:"pl-9"})]}),a.jsxs(b,{value:h,onValueChange:f,children:[a.jsx(v,{children:a.jsx(y,{placeholder:"All Categories"})}),a.jsxs(S,{children:[a.jsx(p,{value:"all",children:"All Categories"}),x.map(e=>a.jsx(p,{value:e,children:e},e))]})]})]}),a.jsx(k,{children:a.jsxs(B,{className:"p-4",children:[a.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Click to add subjects (",m.length," available)"]}),a.jsx("div",{className:"max-h-64 overflow-y-auto",children:m.length>0?a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:m.map(e=>a.jsxs("button",{type:"button",onClick:()=>C(e.id),className:"text-left p-2 border rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all text-sm",children:[a.jsx("div",{className:"font-medium text-gray-900",children:e.name}),e.category?.name&&a.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:e.category.name})]},e.id))}):a.jsx("div",{className:"text-center py-8 text-gray-500",children:d||h!=="all"?a.jsx("p",{children:"No subjects found matching your search"}):a.jsx("p",{children:"All subjects have been selected"})})})]})})]})}export{_ as L,q as S};
