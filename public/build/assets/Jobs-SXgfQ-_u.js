import{r as m,a as x,j as e,H as z}from"./app-BKlUPja9.js";import{P as B}from"./PublicLayout-BWZ-1Nk6.js";import{B as n}from"./button-BOnWbanT.js";import{C as F,a as D,b as L,d as E,c as I}from"./card-Bsa_QJD0.js";import{I as J}from"./input-BbxIcf3J.js";import{S as f,a as v,b as N,c as j,d}from"./select-BvcK2T08.js";import{B as a}from"./badge-BKJNB0LX.js";import{C as U}from"./heroicons-currency-bangladeshi-0EsA_35h.js";import{S as P}from"./search-mQ9eyyit.js";import{X as R,I as V}from"./sheet-CR0d-NrC.js";import{M as H}from"./map-pin-zGSPwdt2.js";import{B as _}from"./book-open-CIFth59I.js";import{G}from"./graduation-cap-BgKWABOs.js";import{U as w}from"./user-CTo4RKCu.js";import{C as M}from"./clock-B867ml2G.js";import{C}from"./calendar-COkuFL8y.js";import{C as O}from"./chevron-left-DU29COHL.js";import"./phone-YU7rGKNV.js";import"./mail-BUl7nOQn.js";import"./chevron-down-DEZl6ENj.js";import"./youtube-B9-5gyI3.js";import"./index-_UKj55wJ.js";import"./index-DP-xbu4A.js";import"./index-CyADkMtw.js";import"./index-Cy0S65aw.js";import"./check-CQJoGw3_.js";import"./circle-prdkFnfj.js";function Ne({jobs:t,districts:S,subjects:b,filters:o}){const[c,h]=m.useState(o.search||""),[l,u]=m.useState(o.location||""),[i,g]=m.useState(o.subject||"");m.useEffect(()=>{const s=setTimeout(()=>{k()},500);return()=>clearTimeout(s)},[c,l,i]);const k=()=>{const s={};c&&(s.search=c),l&&l!=="all"&&(s.location=l),i&&i!=="all"&&(s.subject=i),x.get("/jobs",s,{preserveState:!0,preserveScroll:!0})},y=()=>{h(""),u(""),g("")},A=c||l&&l!=="all"||i&&i!=="all",T=s=>({"one-time":"bg-blue-100 text-blue-800",regular:"bg-green-100 text-green-800",both:"bg-purple-100 text-purple-800"})[s]||"bg-gray-100 text-gray-800";return e.jsxs(B,{children:[e.jsx(z,{title:"Browse Jobs"}),e.jsx("div",{className:"bg-gradient-to-br from-primary-blue to-indigo-700 text-white py-16",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold font-heading mb-4",children:"Find Tutoring Jobs"}),e.jsx("p",{className:"text-xl text-indigo-100 max-w-2xl mx-auto",children:"Browse available tutoring opportunities and connect with families looking for qualified tutors"})]})})}),e.jsx("div",{className:"bg-white shadow-md sticky top-16 z-40 border-b",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(P,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(J,{placeholder:"Search jobs by title or description...",value:c,onChange:s=>h(s.target.value),className:"pl-10"})]})}),e.jsxs(f,{value:l,onValueChange:u,children:[e.jsx(v,{children:e.jsx(N,{placeholder:"Select District"})}),e.jsxs(j,{children:[e.jsx(d,{value:"all",children:"All Districts"}),S.map(s=>e.jsx(d,{value:s,children:s},s))]})]}),e.jsxs(f,{value:i,onValueChange:g,children:[e.jsx(v,{children:e.jsx(N,{placeholder:"All Subjects"})}),e.jsxs(j,{children:[e.jsx(d,{value:"all",children:"All Subjects"}),b.map(s=>e.jsx(d,{value:s.name,children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",t.data.length," of ",t.total," jobs"]}),A&&e.jsxs(n,{onClick:y,variant:"outline",size:"sm",children:[e.jsx(R,{className:"h-4 w-4 mr-1"}),"Clear Filters"]})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:t.data.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.data.map(s=>e.jsxs(F,{className:"hover:shadow-lg transition-shadow duration-300 flex flex-col",children:[e.jsxs(D,{children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx(a,{className:s.job_type==="tutor"?"bg-blue-100 text-blue-800":T(s.tuition_type),children:s.job_type==="tutor"?"TUTOR REQUEST":s.tuition_type?s.tuition_type.replace("-"," ").toUpperCase():"N/A"}),e.jsx(a,{variant:"outline",className:"capitalize",children:s.status==="active"?"open":s.status})]}),e.jsx(L,{className:"text-xl line-clamp-2",children:s.title}),e.jsx(E,{className:"line-clamp-2",children:s.description})]}),e.jsxs(I,{className:"flex-grow space-y-3",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(H,{className:"h-4 w-4 mr-2 text-primary-blue"}),e.jsx("span",{children:s.job_type==="tutor"?`${s.district||"N/A"}, ${s.division||"N/A"}`:s.district&&s.division?`${s.district}, ${s.division}`:"N/A"})]}),e.jsxs("div",{className:"flex items-start text-sm text-gray-600",children:[e.jsx(_,{className:"h-4 w-4 mr-2 text-primary-blue mt-0.5"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[(s.subject_names||[]).slice(0,3).map((p,$)=>e.jsx(a,{variant:"secondary",className:"text-xs",children:p},$)),(()=>{const r=s.subject_names||[];return r.length>3&&e.jsxs(a,{variant:"secondary",className:"text-xs",children:["+",r.length-3]})})()]})]}),s.job_type==="guardian"&&Array.isArray(s.class_levels)&&s.class_levels.length>0&&e.jsxs("div",{className:"flex items-start text-sm text-gray-600",children:[e.jsx(G,{className:"h-4 w-4 mr-2 text-primary-blue mt-0.5"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.class_levels.slice(0,2).map((r,p)=>e.jsx(a,{variant:"outline",className:"text-xs",children:r},p)),s.class_levels.length>2&&e.jsxs(a,{variant:"outline",className:"text-xs",children:["+",s.class_levels.length-2]})]})]}),s.job_type==="tutor"&&s.preferred_gender&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(w,{className:"h-4 w-4 mr-2 text-primary-blue"}),e.jsxs(a,{variant:"outline",className:"text-xs capitalize",children:[s.preferred_gender," tutor"]})]}),s.job_type==="guardian"&&s.preferred_tutor_gender&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(w,{className:"h-4 w-4 mr-2 text-primary-blue"}),e.jsxs(a,{variant:"outline",className:"text-xs capitalize",children:[s.preferred_tutor_gender," tutor"]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(U,{size:16,className:" mr-2 text-green-600"}),e.jsx("span",{className:"font-semibold text-green-600",children:s.job_type==="tutor"?`${s.monthly_salary}/month`:`${parseFloat(s.salary).toLocaleString()}/month`})]}),s.job_type==="guardian"&&s.days_per_week&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(M,{className:"h-4 w-4 mr-2 text-primary-blue"}),e.jsxs("span",{children:[s.days_per_week," days/week • ",s.duration_per_session," mins/session"]})]}),s.job_type==="tutor"&&s.available_days&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(C,{className:"h-4 w-4 mr-2 text-primary-blue"}),e.jsx("span",{children:Array.isArray(s.available_days)?s.available_days.join(", "):s.available_days})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:["Posted ",new Date(s.created_at).toLocaleDateString()]})]}),s.has_applied?e.jsx(a,{className:"w-full justify-center py-2 mt-4 bg-green-100 text-green-800 hover:bg-green-100",children:"✓ Applied"}):e.jsx(n,{className:"w-full bg-primary-blue hover:bg-primary-blue/90 mt-4",onClick:()=>{s.job_type==="tutor"?window.location.href=`/tutor-jobs/${s.id}`:window.location.href=`/jobs/${s.id}`},children:"View Details"})]})]},`${s.job_type}-${s.id}`))}),t.last_page>1&&e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-8",children:[e.jsx(n,{variant:"outline",size:"icon",disabled:t.current_page===1,onClick:()=>x.get(t.prev_page_url),children:e.jsx(O,{className:"h-4 w-4"})}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:t.last_page},(s,r)=>r+1).map(s=>s===1||s===t.last_page||s>=t.current_page-1&&s<=t.current_page+1?e.jsx(n,{variant:s===t.current_page?"default":"outline",size:"sm",onClick:()=>x.get(`/jobs?page=${s}`),children:s},s):s===t.current_page-2||s===t.current_page+2?e.jsx("span",{className:"px-2",children:"..."},s):null)}),e.jsx(n,{variant:"outline",size:"icon",disabled:t.current_page===t.last_page,onClick:()=>x.get(t.next_page_url),children:e.jsx(V,{className:"h-4 w-4"})})]})]}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx(_,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Jobs Found"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Try adjusting your filters or check back later for new opportunities"}),e.jsx(n,{onClick:y,variant:"outline",children:"Clear All Filters"})]})})]})}export{Ne as default};
