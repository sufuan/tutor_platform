import{r as N,j as e,H as _,L as u,a as S}from"./app-B63PtWLD.js";import{A as J}from"./AuthenticatedLayout-Dvnz6xi2.js";import{C as t,c as l,a as T,b as A,d as F}from"./card-BmOj17mn.js";import{B as x}from"./button-DV66Woy4.js";import{B as r}from"./badge-CptsXR4E.js";import{I as L}from"./input-7u4n2Okz.js";import{S as M,a as P,b as k,c as z,d as o}from"./select-BavsaryR.js";import{T as B,a as R,b as m,c as p}from"./tabs-DnLFZ-67.js";import{C as V}from"./heroicons-currency-bangladeshi-Ba-A20Yx.js";import{P as E}from"./plus-DvYKnVYz.js";import{S as I}from"./search-D6E_4M0f.js";import{M as D}from"./map-pin-CSOFZLi8.js";import{C as H}from"./calendar-fpUwf_Dj.js";import{C as U}from"./clock-DfXsplzp.js";import{U as q}from"./user-hj4MECco.js";import{E as O}from"./eye-Cc-P3UvI.js";import{F as G}from"./file-text-Bimclqna.js";import{T as K}from"./trash-2-CChJIoFr.js";import"./sheet-lUi-JFXN.js";import"./index-B3FaZpoj.js";import"./index-D3bRAgg9.js";import"./check-BgUT7JlC.js";import"./circle-CKE4H3am.js";import"./index-fjpr62jj.js";import"./house-BoNy_Mq9.js";import"./users-DI88Xr7j.js";import"./book-open-Be65WJkb.js";import"./mail-D8OkAqz4.js";import"./index-CYY9-CdH.js";import"./chevron-down-CZNvS6TH.js";function _e({auth:Q,jobs:f,stats:c}){const[h,v]=N.useState(""),[j,y]=N.useState("all"),b=s=>({pending:"bg-yellow-100 text-yellow-800 border-yellow-200",approved:"bg-green-100 text-green-800 border-green-200",rejected:"bg-red-100 text-red-800 border-red-200"})[s]||"bg-gray-100 text-gray-800 border-gray-200",w=s=>({open:"bg-blue-100 text-blue-800 border-blue-200",filled:"bg-green-100 text-green-800 border-green-200",closed:"bg-gray-100 text-gray-800 border-gray-200"})[s]||"bg-gray-100 text-gray-800 border-gray-200",C=s=>{confirm("Are you sure you want to delete this job?")&&S.delete(route("guardian.jobs.destroy",s))},d=f.filter(s=>{const i=s.title.toLowerCase().includes(h.toLowerCase())||s.job_code.toLowerCase().includes(h.toLowerCase()),g=j==="all"||s.status===j;return i&&g}),a={pending:d.filter(s=>s.approval_status==="pending"),approved:d.filter(s=>s.approval_status==="approved"&&s.status==="open"),filled:d.filter(s=>s.status==="filled"),rejected:d.filter(s=>s.approval_status==="rejected")},n=({job:s})=>e.jsxs(t,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(T,{children:e.jsx("div",{className:"flex justify-between items-start",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(r,{variant:"outline",className:b(s.approval_status),children:s.approval_status}),e.jsx(r,{variant:"outline",className:w(s.status),children:s.status}),s.applications_count>0&&e.jsxs(r,{variant:"secondary",children:[s.applications_count," applications"]})]}),e.jsx(A,{className:"text-xl",children:s.title}),e.jsxs(F,{children:["Job Code: ",s.job_code]})]})})}),e.jsxs(l,{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:s.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx("span",{children:s.district||"Not specified"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(V,{size:16,className:""}),e.jsxs("span",{children:[parseFloat(s.salary).toLocaleString(),"/month"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(H,{className:"h-4 w-4"}),e.jsxs("span",{children:[s.days_per_week," days/week"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(U,{className:"h-4 w-4"}),e.jsxs("span",{children:[s.duration_per_session," mins"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(q,{className:"h-4 w-4"}),e.jsx("span",{className:"capitalize",children:s.preferred_tutor_gender||"Any"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Required Subjects:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:Array.isArray(s.subject_names)&&s.subject_names.length>0?e.jsxs(e.Fragment,{children:[s.subject_names.slice(0,3).map((i,g)=>e.jsx(r,{variant:"secondary",className:"text-xs",children:i},g)),s.subject_names.length>3&&e.jsxs(r,{variant:"secondary",className:"text-xs",children:["+",s.subject_names.length-3," more"]})]}):e.jsx("span",{className:"text-xs text-gray-500",children:"No subjects specified"})})]}),s.approval_status==="rejected"&&s.rejection_reason&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-red-800",children:[e.jsx("strong",{children:"Rejection Reason:"})," ",s.rejection_reason]})}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(x,{variant:"outline",size:"sm",asChild:!0,className:"flex-1",children:e.jsxs(u,{href:route("guardian.jobs.show",s.id),children:[e.jsx(O,{className:"mr-2 h-4 w-4"}),"View Details"]})}),s.applications_count>0&&e.jsx(x,{size:"sm",asChild:!0,className:"flex-1",children:e.jsxs(u,{href:route("guardian.job-applications",s.id),children:[e.jsx(G,{className:"mr-2 h-4 w-4"}),"View Applications"]})}),s.approval_status==="pending"&&e.jsx(x,{variant:"ghost",size:"sm",onClick:()=>C(s.id),children:e.jsx(K,{className:"h-4 w-4 text-red-500"})})]})]})]});return e.jsxs(J,{children:[e.jsx(_,{title:"My Jobs"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(t,{children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:c.total}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Jobs"})]})})}),e.jsx(t,{children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:c.pending}),e.jsx("div",{className:"text-sm text-gray-600",children:"Pending Approval"})]})})}),e.jsx(t,{children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:c.approved}),e.jsx("div",{className:"text-sm text-gray-600",children:"Active Jobs"})]})})}),e.jsx(t,{children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:c.filled}),e.jsx("div",{className:"text-sm text-gray-600",children:"Filled Jobs"})]})})})]}),e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Jobs"}),e.jsx("p",{className:"text-gray-600",children:"Manage all your posted jobs"})]}),e.jsx(x,{asChild:!0,children:e.jsxs(u,{href:route("guardian.jobs.create"),children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),"Post New Job"]})})]}),e.jsx(t,{className:"mb-6",children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(I,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(L,{placeholder:"Search by job title or code...",value:h,onChange:s=>v(s.target.value),className:"pl-9"})]}),e.jsxs(M,{value:j,onValueChange:y,children:[e.jsx(P,{className:"w-full md:w-48",children:e.jsx(k,{})}),e.jsxs(z,{children:[e.jsx(o,{value:"all",children:"All Status"}),e.jsx(o,{value:"open",children:"Open"}),e.jsx(o,{value:"filled",children:"Filled"}),e.jsx(o,{value:"closed",children:"Closed"})]})]})]})})}),e.jsxs(B,{defaultValue:"approved",className:"space-y-4",children:[e.jsxs(R,{className:"grid w-full grid-cols-4",children:[e.jsxs(m,{value:"pending",className:"relative",children:["Pending",a.pending.length>0&&e.jsx(r,{className:"ml-2 h-5 w-5 rounded-full p-0 flex items-center justify-center",children:a.pending.length})]}),e.jsxs(m,{value:"approved",className:"relative",children:["Active",a.approved.length>0&&e.jsx(r,{className:"ml-2 h-5 w-5 rounded-full p-0 flex items-center justify-center",children:a.approved.length})]}),e.jsxs(m,{value:"filled",className:"relative",children:["Filled",a.filled.length>0&&e.jsx(r,{className:"ml-2 h-5 w-5 rounded-full p-0 flex items-center justify-center",children:a.filled.length})]}),e.jsxs(m,{value:"rejected",className:"relative",children:["Rejected",a.rejected.length>0&&e.jsx(r,{className:"ml-2 h-5 w-5 rounded-full p-0 flex items-center justify-center",children:a.rejected.length})]})]}),e.jsx(p,{value:"pending",className:"space-y-4",children:a.pending.length===0?e.jsx(t,{children:e.jsx(l,{className:"pt-6 text-center text-gray-500",children:"No pending jobs"})}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:a.pending.map(s=>e.jsx(n,{job:s},s.id))})}),e.jsx(p,{value:"approved",className:"space-y-4",children:a.approved.length===0?e.jsx(t,{children:e.jsx(l,{className:"pt-6 text-center text-gray-500",children:"No active jobs"})}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:a.approved.map(s=>e.jsx(n,{job:s},s.id))})}),e.jsx(p,{value:"filled",className:"space-y-4",children:a.filled.length===0?e.jsx(t,{children:e.jsx(l,{className:"pt-6 text-center text-gray-500",children:"No filled jobs"})}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:a.filled.map(s=>e.jsx(n,{job:s},s.id))})}),e.jsx(p,{value:"rejected",className:"space-y-4",children:a.rejected.length===0?e.jsx(t,{children:e.jsx(l,{className:"pt-6 text-center text-gray-500",children:"No rejected jobs"})}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:a.rejected.map(s=>e.jsx(n,{job:s},s.id))})})]})]})})]})}export{_e as default};
